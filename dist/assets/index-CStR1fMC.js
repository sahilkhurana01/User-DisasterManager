var e,t=Object.defineProperty,a=(e,a,n)=>((e,a,n)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n)(e,"symbol"!=typeof a?a+"":a,n);import{j as n,V as s,R as r,A as i,C as o,T as l,D as c,P as d,c as u,a as m,u as f,b as p,d as h,e as g,f as x,g as v,h as y,i as w,k as b,l as N,S as j,O as S,m as E,n as C,o as k,p as R,q as T,r as P,s as A,t as I,I as D,v as L,w as O,x as M,y as $,z as _,L as B,B as z,E as F,F as U,G as H,H as q,J as Y,K as V,M as W,N as K,Q as G,U as Z,W as J}from"./ui-DUAVWY6i.js";import{b as X,r as Q,a as ee,v as te,g as ae}from"./vendor-jggwe9L9.js";import{t as ne,c as se,a as re}from"./utils-ol-7ZbgH.js";import{X as ie,H as oe,S as le,P as ce,B as de,T as ue,a as me,b as fe,M as pe,N as he,c as ge,E as xe,C as ve,d as ye,e as we,f as be,g as Ne,h as je,U as Se,i as Ee,j as Ce,k as ke,l as Re,I as Te,m as Pe,n as Ae,o as Ie,R as De,p as Le,L as Oe,A as Me,q as $e,r as _e,s as Be,t as ze,D as Fe,W as Ue}from"./icons-BJmfeI6E.js";import{Q as He,a as qe}from"./query-X_6ReVuy.js";import{u as Ye,N as Ve,a as We,B as Ke,R as Ge,b as Ze}from"./router-DksT9sEQ.js";import{m as Je,A as Xe}from"./motion-5mxmBHCQ.js";import{L as Qe}from"./maps-B57bqu6D.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var et=X;e=et.createRoot,et.hydrateRoot;let tt=0;const at=new Map,nt=e=>{if(at.has(e))return;const t=setTimeout(()=>{at.delete(e),ot({type:"REMOVE_TOAST",toastId:e})},1e6);at.set(e,t)},st=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?nt(a):e.toasts.forEach(e=>{nt(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},rt=[];let it={toasts:[]};function ot(e){it=st(it,e),rt.forEach(e=>{e(it)})}function lt({...e}){const t=(tt=(tt+1)%Number.MAX_SAFE_INTEGER,tt.toString()),a=()=>ot({type:"DISMISS_TOAST",toastId:t});return ot({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>ot({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function ct(...e){return ne(se(e))}const dt=d,ut=Q.forwardRef(({className:e,...t},a)=>n.jsx(s,{ref:a,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ut.displayName=s.displayName;const mt=re("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ft=Q.forwardRef(({className:e,variant:t,...a},s)=>n.jsx(r,{ref:s,className:ct(mt({variant:t}),e),...a}));ft.displayName=r.displayName;Q.forwardRef(({className:e,...t},a)=>n.jsx(i,{ref:a,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t})).displayName=i.displayName;const pt=Q.forwardRef(({className:e,...t},a)=>n.jsx(o,{ref:a,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ie,{className:"h-4 w-4"})}));pt.displayName=o.displayName;const ht=Q.forwardRef(({className:e,...t},a)=>n.jsx(l,{ref:a,className:ct("text-sm font-semibold",e),...t}));ht.displayName=l.displayName;const gt=Q.forwardRef(({className:e,...t},a)=>n.jsx(c,{ref:a,className:ct("text-sm opacity-90",e),...t}));function xt(){const{toasts:e}=function(){const[e,t]=Q.useState(it);return Q.useEffect(()=>(rt.push(t),()=>{const e=rt.indexOf(t);e>-1&&rt.splice(e,1)}),[e]),{...e,toast:lt,dismiss:e=>ot({type:"DISMISS_TOAST",toastId:e})}}();return n.jsxs(dt,{children:[e.map(function({id:e,title:t,description:a,action:s,...r}){return n.jsxs(ft,{...r,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(ht,{children:t}),a&&n.jsx(gt,{children:a})]}),s,n.jsx(pt,{})]},e)}),n.jsx(ut,{})]})}gt.displayName=c.displayName;var vt=["light","dark"],yt=Q.createContext(void 0),wt={setTheme:e=>{},themes:[]};Q.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:n,enableColorScheme:s,defaultTheme:r,value:i,attrs:o,nonce:l})=>{let c="system"===r,d="class"===a?`var d=document.documentElement,c=d.classList;c.remove(${o.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${a}',s='setAttribute';`,u=s?vt.includes(r)&&r?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${r}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(e,t=!1,n=!0)=>{let r=i?i[e]:e,o=t?e+"|| ''":`'${r}'`,l="";return s&&n&&!t&&vt.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===a?l+=t||r?`c.add(${o})`:"null":r&&(l+=`d[s](n,${o})`),l},f=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(r,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(r,!1,!1)};}${u}}catch(t){}}();`;return Q.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var bt=Array(12).fill(0),Nt=({visible:e,className:t})=>ee.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ee.createElement("div",{className:"sonner-spinner"},bt.map((e,t)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),jt=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),St=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Et=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ct=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kt=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Rt=1,Tt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:a,...n}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Rt++,r=this.toasts.find(e=>e.id===s),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:a}),{...t,...e,id:s,dismissible:i,title:a}):t):this.addToast({title:a,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let n,s=e instanceof Promise?e:e(),r=void 0!==a,i=s.then(async e=>{if(n=["resolve",e],ee.isValidElement(e))r=!1,this.create({id:a,type:"default",message:e});else if(Pt(e)&&!e.ok){r=!1;let n="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:a,type:"error",message:n,description:s})}else if(void 0!==t.success){r=!1;let n="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:a,type:"success",message:n,description:s})}}).catch(async e=>{if(n=["reject",e],void 0!==t.error){r=!1;let n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:a,type:"error",message:n,description:s})}}).finally(()=>{var e;r&&(this.dismiss(a),a=void 0),null==(e=t.finally)||e.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===n[0]?t(n[1]):e(n[1])).catch(t));return"string"!=typeof a&&"number"!=typeof a?{unwrap:o}:Object.assign(a,{unwrap:o})},this.custom=(e,t)=>{let a=(null==t?void 0:t.id)||Rt++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Pt=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,At=(e,t)=>{let a=(null==t?void 0:t.id)||Rt++;return Tt.addToast({title:e,...t,id:a}),a};function It(e){return void 0!==e.label}Object.assign(At,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:()=>Tt.toasts,getToasts:()=>Tt.getActiveToasts()}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Dt=3,Lt=14;function Ot(...e){return e.filter(Boolean).join(" ")}var Mt=e=>{var t,a,n,s,r,i,o,l,c,d,u;let{invert:m,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:x,heights:v,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:j,closeButton:S,style:E,cancelButtonStyle:C,actionButtonStyle:k,className:R="",descriptionClassName:T="",duration:P,position:A,gap:I,loadingIcon:D,expandByDefault:L,classNames:O,icons:M,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:_}=e,[B,z]=ee.useState(null),[F,U]=ee.useState(null),[H,q]=ee.useState(!1),[Y,V]=ee.useState(!1),[W,K]=ee.useState(!1),[G,Z]=ee.useState(!1),[J,X]=ee.useState(!1),[te,ae]=ee.useState(0),[ne,se]=ee.useState(0),re=ee.useRef(f.duration||P||4e3),ie=ee.useRef(null),oe=ee.useRef(null),le=0===y,ce=y+1<=x,de=f.type,ue=!1!==f.dismissible,me=f.className||"",fe=f.descriptionClassName||"",pe=ee.useMemo(()=>v.findIndex(e=>e.toastId===f.id)||0,[v,f.id]),he=ee.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:S},[f.closeButton,S]),ge=ee.useMemo(()=>f.duration||P||4e3,[f.duration,P]),xe=ee.useRef(0),ve=ee.useRef(0),ye=ee.useRef(0),we=ee.useRef(null),[be,Ne]=A.split("-"),je=ee.useMemo(()=>v.reduce((e,t,a)=>a>=pe?e:e+t.height,0),[v,pe]),Se=(()=>{let[e,t]=ee.useState(document.hidden);return ee.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),Ee=f.invert||m,Ce="loading"===de;ve.current=ee.useMemo(()=>pe*I+je,[pe,je]),ee.useEffect(()=>{re.current=ge},[ge]),ee.useEffect(()=>{q(!0)},[]),ee.useEffect(()=>{let e=oe.current;if(e){let t=e.getBoundingClientRect().height;return se(t),g(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==f.id))}},[g,f.id]),ee.useLayoutEffect(()=>{if(!H)return;let e=oe.current,t=e.style.height;e.style.height="auto";let a=e.getBoundingClientRect().height;e.style.height=t,se(a),g(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:a}:e):[{toastId:f.id,height:a,position:f.position},...e])},[H,f.title,f.description,g,f.id]);let ke=ee.useCallback(()=>{V(!0),ae(ve.current),g(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{N(f)},200)},[f,N,g,ve]);return ee.useEffect(()=>{if(f.promise&&"loading"===de||f.duration===1/0||"loading"===f.type)return;let e;return b||h||_&&Se?(()=>{if(ye.current<xe.current){let e=(new Date).getTime()-xe.current;re.current=re.current-e}ye.current=(new Date).getTime()})():re.current!==1/0&&(xe.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ke()},re.current)),()=>clearTimeout(e)},[b,h,f,de,_,Se,ke]),ee.useEffect(()=>{f.delete&&ke()},[ke,f.delete]),ee.createElement("li",{tabIndex:0,ref:oe,className:Ot(R,me,null==O?void 0:O.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==O?void 0:O.default,null==O?void 0:O[de],null==(a=null==f?void 0:f.classNames)?void 0:a[de]),"data-sonner-toast":"","data-rich-colors":null!=(n=f.richColors)?n:j,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":J,"data-removed":Y,"data-visible":ce,"data-y-position":be,"data-x-position":Ne,"data-index":y,"data-front":le,"data-swiping":W,"data-dismissible":ue,"data-type":de,"data-invert":Ee,"data-swipe-out":G,"data-swipe-direction":F,"data-expanded":!!(b||L&&H),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${Y?te:ve.current}px`,"--initial-height":L?"auto":`${ne}px`,...E,...f.style},onDragEnd:()=>{K(!1),z(null),we.current=null},onPointerDown:e=>{Ce||!ue||(ie.current=new Date,ae(ve.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(K(!0),we.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a,n;if(G||!ue)return;we.current=null;let s=Number((null==(e=oe.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),r=Number((null==(t=oe.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(a=ie.current)?void 0:a.getTime()),o="x"===B?s:r,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return ae(ve.current),null==(n=f.onDismiss)||n.call(f,f),U("x"===B?s>0?"right":"left":r>0?"down":"up"),ke(),Z(!0),void X(!1);K(!1),z(null)},onPointerMove:t=>{var a,n,s,r;if(!we.current||!ue||(null==(a=window.getSelection())?void 0:a.toString().length)>0)return;let i=t.clientY-we.current.y,o=t.clientX-we.current.x,l=null!=(n=e.swipeDirections)?n:function(e){let[t,a]=e.split("-"),n=[];return t&&n.push(t),a&&n.push(a),n}(A);!B&&(Math.abs(o)>1||Math.abs(i)>1)&&z(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===B?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&i<0||l.includes("bottom")&&i>0)&&(c.y=i):"x"===B&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&X(!0),null==(s=oe.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(r=oe.current)||r.style.setProperty("--swipe-amount-y",`${c.y}px`)}},he&&!f.jsx?ee.createElement("button",{"aria-label":$,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!ue?()=>{}:()=>{var e;ke(),null==(e=f.onDismiss)||e.call(f,f)},className:Ot(null==O?void 0:O.closeButton,null==(s=null==f?void 0:f.classNames)?void 0:s.closeButton)},null!=(r=null==M?void 0:M.close)?r:kt):null,f.jsx||Q.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:ee.createElement(ee.Fragment,null,de||f.icon||f.promise?ee.createElement("div",{"data-icon":"",className:Ot(null==O?void 0:O.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||(null!=M&&M.loading?ee.createElement("div",{className:Ot(null==O?void 0:O.loader,null==(Re=null==f?void 0:f.classNames)?void 0:Re.loader,"sonner-loader"),"data-visible":"loading"===de},M.loading):D?ee.createElement("div",{className:Ot(null==O?void 0:O.loader,null==(Te=null==f?void 0:f.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===de},D):ee.createElement(Nt,{className:Ot(null==O?void 0:O.loader,null==(Pe=null==f?void 0:f.classNames)?void 0:Pe.loader),visible:"loading"===de})):null,"loading"!==f.type?f.icon||(null==M?void 0:M[de])||(e=>{switch(e){case"success":return jt;case"info":return Et;case"warning":return St;case"error":return Ct;default:return null}})(de):null):null,ee.createElement("div",{"data-content":"",className:Ot(null==O?void 0:O.content,null==(o=null==f?void 0:f.classNames)?void 0:o.content)},ee.createElement("div",{"data-title":"",className:Ot(null==O?void 0:O.title,null==(l=null==f?void 0:f.classNames)?void 0:l.title)},"function"==typeof f.title?f.title():f.title),f.description?ee.createElement("div",{"data-description":"",className:Ot(T,fe,null==O?void 0:O.description,null==(c=null==f?void 0:f.classNames)?void 0:c.description)},"function"==typeof f.description?f.description():f.description):null),Q.isValidElement(f.cancel)?f.cancel:f.cancel&&It(f.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:e=>{var t,a;It(f.cancel)&&ue&&(null==(a=(t=f.cancel).onClick)||a.call(t,e),ke())},className:Ot(null==O?void 0:O.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,Q.isValidElement(f.action)?f.action:f.action&&It(f.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:e=>{var t,a;It(f.action)&&(null==(a=(t=f.action).onClick)||a.call(t,e),!e.defaultPrevented&&ke())},className:Ot(null==O?void 0:O.actionButton,null==(u=null==f?void 0:f.classNames)?void 0:u.actionButton)},f.action.label):null));var Re,Te,Pe};function $t(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function _t(e,t){let a={};return[e,t].forEach((e,t)=>{let n=1===t,s=n?"--mobile-offset":"--offset",r=n?"16px":"32px";function i(e){["top","right","bottom","left"].forEach(t=>{a[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a[`${s}-${t}`]=r:a[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(r)}),a}var Bt=Q.forwardRef(function(e,t){let{invert:a,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:i,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:m,style:f,visibleToasts:p=Dt,toastOptions:h,dir:g=$t(),gap:x=Lt,loadingIcon:v,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b}=e,[N,j]=ee.useState([]),S=ee.useMemo(()=>Array.from(new Set([n].concat(N.filter(e=>e.position).map(e=>e.position)))),[N,n]),[E,C]=ee.useState([]),[k,R]=ee.useState(!1),[T,P]=ee.useState(!1),[A,I]=ee.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=ee.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=ee.useRef(null),M=ee.useRef(!1),$=ee.useCallback(e=>{j(t=>{var a;return null!=(a=t.find(t=>t.id===e.id))&&a.delete||Tt.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return ee.useEffect(()=>Tt.subscribe(e=>{e.dismiss?j(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{te.flushSync(()=>{j(t=>{let a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),{...t[a],...e},...t.slice(a+1)]:[e,...t]})})})}),[]),ee.useEffect(()=>{if("system"!==d)return void I(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{I(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{I(e?"dark":"light")}catch(t){}})}},[d]),ee.useEffect(()=>{N.length<=1&&R(!1)},[N]),ee.useEffect(()=>{let e=e=>{var t,a;s.every(t=>e[t]||e.code===t)&&(R(!0),null==(t=D.current)||t.focus()),"Escape"===e.code&&(document.activeElement===D.current||null!=(a=D.current)&&a.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),ee.useEffect(()=>{if(D.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,M.current=!1)}},[D.current]),ee.createElement("section",{ref:t,"aria-label":`${w} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,n)=>{var s;let[d,w]=t.split("-");return N.length?ee.createElement("ol",{key:t,dir:"auto"===g?$t():g,tabIndex:-1,ref:D,className:o,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":d,"data-lifted":k&&N.length>1&&!r,"data-x-position":w,style:{"--front-toast-height":`${(null==(s=E[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${x}px`,...f,..._t(l,c)},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,O.current=e.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{T||R(!1)},onDragEnd:()=>R(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},N.filter(e=>!e.position&&0===n||e.position===t).map((n,s)=>{var o,l;return ee.createElement(Mt,{key:n.id,icons:y,index:s,toast:n,defaultRichColors:u,duration:null!=(o=null==h?void 0:h.duration)?o:m,className:null==h?void 0:h.className,descriptionClassName:null==h?void 0:h.descriptionClassName,invert:a,visibleToasts:p,closeButton:null!=(l=null==h?void 0:h.closeButton)?l:i,interacting:T,position:t,style:null==h?void 0:h.style,unstyled:null==h?void 0:h.unstyled,classNames:null==h?void 0:h.classNames,cancelButtonStyle:null==h?void 0:h.cancelButtonStyle,actionButtonStyle:null==h?void 0:h.actionButtonStyle,removeToast:$,toasts:N.filter(e=>e.position==n.position),heights:E.filter(e=>e.position==n.position),setHeights:C,expandByDefault:r,gap:x,loadingIcon:v,expanded:k,pauseWhenPageIsHidden:b,swipeDirections:e.swipeDirections})})):null}))});const zt=({...e})=>{const{theme:t="system"}=null!=(a=Q.useContext(yt))?a:wt;var a;return n.jsx(Bt,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[Ft,Ut]=u("Tooltip",[m]),Ht=m(),qt="TooltipProvider",Yt=700,Vt="tooltip.open",[Wt,Kt]=Ft(qt),Gt=e=>{const{__scopeTooltip:t,delayDuration:a=Yt,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=e,o=Q.useRef(!0),l=Q.useRef(!1),c=Q.useRef(0);return Q.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),n.jsx(Wt,{scope:t,isOpenDelayedRef:o,delayDuration:a,onOpen:Q.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:Q.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:Q.useCallback(e=>{l.current=e},[]),disableHoverableContent:r,children:i})};Gt.displayName=qt;var Zt="Tooltip",[Jt,Xt]=Ft(Zt),Qt="TooltipTrigger";Q.forwardRef((e,t)=>{const{__scopeTooltip:a,...s}=e,r=Xt(Qt,a),i=Kt(Qt,a),o=Ht(a),l=Q.useRef(null),c=f(t,l,r.onTriggerChange),d=Q.useRef(!1),u=Q.useRef(!1),m=Q.useCallback(()=>d.current=!1,[]);return Q.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(p,{asChild:!0,...o,children:n.jsx(h.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:g(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||i.isPointerInTransitRef.current||(r.onTriggerEnter(),u.current=!0))}),onPointerLeave:g(e.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:g(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:g(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:g(e.onBlur,r.onClose),onClick:g(e.onClick,r.onClose)})})}).displayName=Qt;var[ea,ta]=Ft("TooltipPortal",{forceMount:void 0}),aa="TooltipContent",na=Q.forwardRef((e,t)=>{const a=ta(aa,e.__scopeTooltip),{forceMount:s=a.forceMount,side:r="top",...i}=e,o=Xt(aa,e.__scopeTooltip);return n.jsx(x,{present:s||o.open,children:o.disableHoverableContent?n.jsx(la,{side:r,...i,ref:t}):n.jsx(sa,{side:r,...i,ref:t})})}),sa=Q.forwardRef((e,t)=>{const a=Xt(aa,e.__scopeTooltip),s=Kt(aa,e.__scopeTooltip),r=Q.useRef(null),i=f(t,r),[o,l]=Q.useState(null),{trigger:c,onClose:d}=a,u=r.current,{onPointerInTransitChange:m}=s,p=Q.useCallback(()=>{l(null),m(!1)},[m]),h=Q.useCallback((e,t)=>{const a=e.currentTarget,n={x:e.clientX,y:e.clientY},s=function(e,t,a=5){const n=[];switch(t){case"top":n.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":n.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":n.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":n.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return n}(n,function(e,t){const a=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),r=Math.abs(t.left-e.x);switch(Math.min(a,n,s,r)){case r:return"left";case s:return"right";case a:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,a.getBoundingClientRect())),r=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(a.y-n.y)>=(e.y-n.y)*(a.x-n.x)))break;t.pop()}t.push(a)}t.pop();const a=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;a.length>=2;){const e=a[a.length-1],n=a[a.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;a.pop()}a.push(t)}return a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}(t)}([...s,...function(e){const{top:t,right:a,bottom:n,left:s}=e;return[{x:s,y:t},{x:a,y:t},{x:a,y:n},{x:s,y:n}]}(t.getBoundingClientRect())]);l(r),m(!0)},[m]);return Q.useEffect(()=>()=>p(),[p]),Q.useEffect(()=>{if(c&&u){const e=e=>h(e,u),t=e=>h(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,h,p]),Q.useEffect(()=>{if(o){const e=e=>{const t=e.target,a={x:e.clientX,y:e.clientY},n=(null==c?void 0:c.contains(t))||(null==u?void 0:u.contains(t)),s=!function(e,t){const{x:a,y:n}=e;let s=!1;for(let r=0,i=t.length-1;r<t.length;i=r++){const e=t[r],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>n!=u>n&&a<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}(a,o);n?p():s&&(p(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,o,d,p]),n.jsx(la,{...e,ref:i})}),[ra,ia]=Ft(Zt,{isInside:!1}),oa=N("TooltipContent"),la=Q.forwardRef((e,t)=>{const{__scopeTooltip:a,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Xt(aa,a),d=Ht(a),{onClose:u}=c;return Q.useEffect(()=>(document.addEventListener(Vt,u),()=>document.removeEventListener(Vt,u)),[u]),Q.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),n.jsx(v,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:n.jsxs(y,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(oa,{children:s}),n.jsx(ra,{scope:a,isInside:!0,children:n.jsx(w,{id:c.contentId,role:"tooltip",children:r||s})})]})})});na.displayName=aa;var ca="TooltipArrow";Q.forwardRef((e,t)=>{const{__scopeTooltip:a,...s}=e,r=Ht(a);return ia(ca,a).isInside?null:n.jsx(b,{...r,...s,ref:t})}).displayName=ca;var da=na;const ua=Gt;function ma(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=ma(e[t]))&&(n&&(n+=" "),n+=a);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function fa(){for(var e,t,a=0,n="";a<arguments.length;)(e=arguments[a++])&&(t=ma(e))&&(n&&(n+=" "),n+=t);return n}Q.forwardRef(({className:e,sideOffset:t=4,...a},s)=>n.jsx(da,{ref:s,sideOffset:t,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=da.displayName;const pa=e=>"number"==typeof e&&!isNaN(e),ha=e=>"string"==typeof e,ga=e=>"function"==typeof e,xa=e=>ha(e)||ga(e)?e:null,va=e=>Q.isValidElement(e)||ha(e)||ga(e)||pa(e);function ya(e){let{enter:t,exit:a,appendPosition:n=!1,collapse:s=!0,collapseDuration:r=300}=e;return function(e){let{children:i,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:u}=e;const m=n?`${t}--${o}`:t,f=n?`${a}--${o}`:a,p=Q.useRef(0);return Q.useLayoutEffect(()=>{const e=d.current,t=m.split(" "),a=n=>{n.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),0===p.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)},[]),Q.useEffect(()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,a){void 0===a&&(a=300);const{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${a}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,a)})})}(e,c,r):c()};u||(l?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[u]),ee.createElement(ee.Fragment,null,i)}}function wa(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ba={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const a=this.list.get(e).filter(e=>e!==t);return this.list.set(e,a),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const a=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(a)})}},Na=e=>{let{theme:t,type:a,...n}=e;return ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${a})`,...n})},ja={info:function(e){return ee.createElement(Na,{...e},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ee.createElement(Na,{...e},ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ee.createElement(Na,{...e},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ee.createElement(Na,{...e},ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ee.createElement("div",{className:"Toastify__spinner"})}};function Sa(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ea(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Ca(e){let{closeToast:t,theme:a,ariaLabel:n="close"}=e;return ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":n},ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ka(e){let{delay:t,isRunning:a,closeToast:n,type:s="default",hide:r,className:i,style:o,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:m}=e;const f=r||l&&0===c,p={...o,animationDuration:`${t}ms`,animationPlayState:a?"running":"paused",opacity:f?0:1};l&&(p.transform=`scaleX(${c})`);const h=fa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),g=ga(i)?i({rtl:d,type:s,defaultClassName:h}):fa(h,i);return ee.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&n()}})}const Ra=e=>{const{isRunning:t,preventExitTransition:a,toastRef:n,eventHandlers:s}=function(e){const[t,a]=Q.useState(!1),[n,s]=Q.useState(!1),r=Q.useRef(null),i=Q.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,o=Q.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function f(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),i.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",v),document.addEventListener("touchmove",x),document.addEventListener("touchend",v);const a=r.current;i.canCloseOnClick=!0,i.canDrag=!0,i.boundingRect=a.getBoundingClientRect(),a.style.transition="",i.x=Sa(t.nativeEvent),i.y=Ea(t.nativeEvent),"x"===e.draggableDirection?(i.start=i.x,i.removalDistance=a.offsetWidth*(e.draggablePercent/100)):(i.start=i.y,i.removalDistance=a.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function p(t){if(i.boundingRect){const{top:a,bottom:n,left:s,right:r}=i.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&i.x>=s&&i.x<=r&&i.y>=a&&i.y<=n?g():h()}}function h(){a(!0)}function g(){a(!1)}function x(a){const n=r.current;i.canDrag&&n&&(i.didMove=!0,t&&g(),i.x=Sa(a),i.y=Ea(a),i.delta="x"===e.draggableDirection?i.x-i.start:i.y-i.start,i.start!==i.x&&(i.canCloseOnClick=!1),n.style.transform=`translate${e.draggableDirection}(${i.delta}px)`,n.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function v(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",v);const t=r.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}Q.useEffect(()=>{o.current=e}),Q.useEffect(()=>(r.current&&r.current.addEventListener("d",h,{once:!0}),ga(e.onOpen)&&e.onOpen(Q.isValidElement(e.children)&&e.children.props),()=>{const e=o.current;ga(e.onClose)&&e.onClose(Q.isValidElement(e.children)&&e.children.props)}),[]),Q.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",h),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",h),window.removeEventListener("blur",g))}),[e.pauseOnFocusLoss]);const y={onMouseDown:f,onTouchStart:f,onMouseUp:p,onTouchEnd:p};return l&&c&&(y.onMouseEnter=g,y.onMouseLeave=h),m&&(y.onClick=e=>{u&&u(e),i.canCloseOnClick&&d()}),{playToast:h,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:y}}(e),{closeButton:r,children:i,autoClose:o,onClick:l,type:c,hideProgressBar:d,closeToast:u,transition:m,position:f,className:p,style:h,bodyClassName:g,bodyStyle:x,progressClassName:v,progressStyle:y,updateId:w,role:b,progress:N,rtl:j,toastId:S,deleteToast:E,isIn:C,isLoading:k,iconOut:R,closeOnClick:T,theme:P}=e,A=fa("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":T}),I=ga(p)?p({rtl:j,position:f,type:c,defaultClassName:A}):fa(A,p),D=!!N||!o,L={closeToast:u,type:c,theme:P};let O=null;return!1===r||(O=ga(r)?r(L):Q.isValidElement(r)?Q.cloneElement(r,L):Ca(L)),ee.createElement(m,{isIn:C,done:E,position:f,preventExitTransition:a,nodeRef:n},ee.createElement("div",{id:S,onClick:l,className:I,...s,style:h,ref:n},ee.createElement("div",{...C&&{role:b},className:ga(g)?g({type:c}):fa("Toastify__toast-body",g),style:x},null!=R&&ee.createElement("div",{className:fa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},R),ee.createElement("div",null,i)),O,ee.createElement(ka,{...w&&!D?{key:`pb-${w}`}:{},rtl:j,theme:P,delay:o,isRunning:t,isIn:C,closeToast:u,hide:d,type:c,style:y,className:v,controlledProgress:D,progress:N||0})))},Ta=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Pa=ya(Ta("bounce",!0));ya(Ta("slide",!0)),ya(Ta("zoom")),ya(Ta("flip"));const Aa=Q.forwardRef((e,t)=>{const{getToastToRender:a,containerRef:n,isToastActive:s}=function(e){const[,t]=Q.useReducer(e=>e+1,0),[a,n]=Q.useState([]),s=Q.useRef(null),r=Q.useRef(new Map).current,i=e=>-1!==a.indexOf(e),o=Q.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:i,getToast:e=>r.get(e)}).current;function l(e){let{containerId:t}=e;const{limit:a}=o.props;!a||t&&o.containerId!==t||(o.count-=o.queue.length,o.queue=[])}function c(e){n(t=>null==e?[]:t.filter(t=>t!==e))}function d(){const{toastContent:e,toastProps:t,staleId:a}=o.queue.shift();m(e,t,a)}function u(e,a){let{delay:n,staleId:i,...l}=a;if(!va(e)||(u=l,!s.current||o.props.enableMultiContainer&&u.containerId!==o.props.containerId||r.has(u.toastId)&&null==u.updateId))return;var u;const{toastId:f,updateId:p,data:h}=l,{props:g}=o,x=()=>c(f),v=null==p;v&&o.count++;const y={...g,style:g.toastStyle,key:o.toastKey++,...Object.fromEntries(Object.entries(l).filter(e=>{let[t,a]=e;return null!=a})),toastId:f,updateId:p,data:h,closeToast:x,isIn:!1,className:xa(l.className||g.toastClassName),bodyClassName:xa(l.bodyClassName||g.bodyClassName),progressClassName:xa(l.progressClassName||g.progressClassName),autoClose:!l.isLoading&&(w=l.autoClose,b=g.autoClose,!1===w||pa(w)&&w>0?w:b),deleteToast(){const e=wa(r.get(f),"removed");r.delete(f),ba.emit(4,e);const a=o.queue.length;if(o.count=null==f?o.count-o.displayedToast:o.count-1,o.count<0&&(o.count=0),a>0){const e=null==f?o.props.limit:1;if(1===a||1===e)o.displayedToast++,d();else{const t=e>a?a:e;o.displayedToast=t;for(let e=0;e<t;e++)d()}}else t()}};var w,b;y.iconOut=function(e){let{theme:t,type:a,isLoading:n,icon:s}=e,r=null;const i={theme:t,type:a};return!1===s||(ga(s)?r=s(i):Q.isValidElement(s)?r=Q.cloneElement(s,i):ha(s)||pa(s)?r=s:n?r=ja.spinner():a in ja&&(r=ja[a](i))),r}(y),ga(l.onOpen)&&(y.onOpen=l.onOpen),ga(l.onClose)&&(y.onClose=l.onClose),y.closeButton=g.closeButton,!1===l.closeButton||va(l.closeButton)?y.closeButton=l.closeButton:!0===l.closeButton&&(y.closeButton=!va(g.closeButton)||g.closeButton);let N=e;Q.isValidElement(e)&&!ha(e.type)?N=Q.cloneElement(e,{closeToast:x,toastProps:y,data:h}):ga(e)&&(N=e({closeToast:x,toastProps:y,data:h})),g.limit&&g.limit>0&&o.count>g.limit&&v?o.queue.push({toastContent:N,toastProps:y,staleId:i}):pa(n)?setTimeout(()=>{m(N,y,i)},n):m(N,y,i)}function m(e,t,a){const{toastId:s}=t;a&&r.delete(a);const i={content:e,props:t};r.set(s,i),n(e=>[...e,s].filter(e=>e!==a)),ba.emit(4,wa(i,null==i.props.updateId?"added":"updated"))}return Q.useEffect(()=>(o.containerId=e.containerId,ba.cancelEmit(3).on(0,u).on(1,e=>s.current&&c(e)).on(5,l).emit(2,o),()=>{r.clear(),ba.emit(3,o)}),[]),Q.useEffect(()=>{o.props=e,o.isToastActive=i,o.displayedToast=a.length}),{getToastToRender:function(t){const a=new Map,n=Array.from(r.values());return e.newestOnTop&&n.reverse(),n.forEach(e=>{const{position:t}=e.props;a.has(t)||a.set(t,[]),a.get(t).push(e)}),Array.from(a,e=>t(e[0],e[1]))},containerRef:s,isToastActive:i}}(e),{className:r,style:i,rtl:o,containerId:l}=e;function c(e){const t=fa("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":o});return ga(r)?r({position:e,rtl:o,defaultClassName:t}):fa(t,xa(r))}return Q.useEffect(()=>{t&&(t.current=n.current)},[]),ee.createElement("div",{ref:n,className:"Toastify",id:l},a((e,t)=>{const a=t.length?{...i}:{...i,pointerEvents:"none"};return ee.createElement("div",{className:c(e),style:a,key:`container-${e}`},t.map((e,a)=>{let{content:n,props:r}=e;return ee.createElement(Ra,{...r,isIn:s(r.toastId),style:{...r.style,"--nth":a+1,"--len":t.length},key:`toast-${r.key}`},n)}))}))});Aa.displayName="ToastContainer",Aa.defaultProps={position:"top-right",transition:Pa,autoClose:5e3,closeButton:Ca,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Ia,Da=new Map,La=[];ba.on(2,e=>{Ia=e.containerId||e,Da.set(Ia,e),La.forEach(e=>{ba.emit(0,e.content,e.options)}),La=[]}).on(3,e=>{Da.delete(e.containerId||e),0===Da.size&&ba.off(0).off(1).off(5)});const Oa=re("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ma=Q.forwardRef(({className:e,variant:t,size:a,asChild:s=!1,...r},i)=>{const o=s?j:"button";return n.jsx(o,{className:ct(Oa({variant:t,size:a,className:e})),ref:i,...r})});Ma.displayName="Button";const $a=re("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _a({className:e,variant:t,...a}){return n.jsx("div",{className:ct($a({variant:t}),e),...a})}const Ba=Q.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:ct("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ba.displayName="Card";const za=Q.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:ct("flex flex-col space-y-1.5 p-6",e),...t}));za.displayName="CardHeader";const Fa=Q.forwardRef(({className:e,...t},a)=>n.jsx("h3",{ref:a,className:ct("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fa.displayName="CardTitle";Q.forwardRef(({className:e,...t},a)=>n.jsx("p",{ref:a,className:ct("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const Ua=Q.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:ct("p-6 pt-0",e),...t}));Ua.displayName="CardContent";Q.forwardRef(({className:e,...t},a)=>n.jsx("div",{ref:a,className:ct("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const Ha=ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),qa=()=>{const e=ee.useContext(Ha);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}");const Ya="undefined"!=typeof window?Q.useLayoutEffect:Q.useEffect;function Va(...e){return(...t)=>{for(let a of e)"function"==typeof a&&a(...t)}}function Wa(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Ka(){return Za(/^iPad/)||Za(/^Mac/)&&navigator.maxTouchPoints>1}function Ga(){return Za(/^iPhone/)||Ka()}function Za(e){return"undefined"!=typeof window&&null!=window.navigator?e.test(window.navigator.platform):void 0}const Ja="undefined"!=typeof document&&window.visualViewport;function Xa(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Qa(e){for(Xa(e)&&(e=e.parentElement);e&&!Xa(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const en=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let tn,an=0;function nn(e={}){let{isDisabled:t}=e;Ya(()=>{if(!t)return an++,1===an&&Ga()&&(tn=function(){let e,t=0,a=a=>{e=Qa(a.target),e===document.documentElement&&e===document.body||(t=a.changedTouches[0].pageY)},n=a=>{if(!e||e===document.documentElement||e===document.body)return void a.preventDefault();let n=a.changedTouches[0].pageY,s=e.scrollTop,r=e.scrollHeight-e.clientHeight;0!==r&&((s<=0&&n>t||s>=r&&n<t)&&a.preventDefault(),t=n)},s=e=>{let t=e.target;on(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},r=e=>{let t=e.target;on(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",Ja&&(Ja.height<window.innerHeight?requestAnimationFrame(()=>{rn(t)}):Ja.addEventListener("resize",()=>rn(t),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},o=window.pageXOffset,l=window.pageYOffset,c=Va(function(e,t,a){let n=e.style[t];return e.style[t]=a,()=>{e.style[t]=n}}(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"));window.scrollTo(0,0);let d=Va(sn(document,"touchstart",a,{passive:!1,capture:!0}),sn(document,"touchmove",n,{passive:!1,capture:!0}),sn(document,"touchend",s,{passive:!1,capture:!0}),sn(document,"focus",r,!0),sn(window,"scroll",i));return()=>{c(),d(),window.scrollTo(o,l)}}()),()=>{an--,0===an&&(null==tn||tn())}},[t])}function sn(e,t,a,n){return e.addEventListener(t,a,n),()=>{e.removeEventListener(t,a,n)}}function rn(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=Qa(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let a=t.getBoundingClientRect().top,n=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=n-a)}e=t.parentElement}}function on(e){return e instanceof HTMLInputElement&&!en.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ln(...e){return Q.useCallback(function(...e){return t=>e.forEach(e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t))}(...e),e)}const cn=new WeakMap;function dn(e,t,a=!1){if(!(e&&e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([t,a])=>{t.startsWith("--")?e.style.setProperty(t,a):(n[t]=e.style[t],e.style[t]=a)}),a||cn.set(e,n)}const un=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function mn(e,t){if(!e)return null;const a=window.getComputedStyle(e),n=a.transform||a.webkitTransform||a.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[un(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[un(t)?5:4]):null)}function fn(e,t){if(!e)return()=>{};const a=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=a}}const pn={DURATION:.5,EASE:[.32,.72,0,1]},hn=16,gn="vaul-dragging";function xn(e){const t=ee.useRef(e);return ee.useEffect(()=>{t.current=e}),ee.useMemo(()=>(...e)=>null==t.current?void 0:t.current.call(t,...e),[])}function vn({prop:e,defaultProp:t,onChange:a=()=>{}}){const[n,s]=function({defaultProp:e,onChange:t}){const a=ee.useState(e),[n]=a,s=ee.useRef(n),r=xn(t);return ee.useEffect(()=>{s.current!==n&&(r(n),s.current=n)},[n,s,r]),a}({defaultProp:t,onChange:a}),r=void 0!==e,i=r?e:n,o=xn(a);return[i,ee.useCallback(t=>{if(r){const a="function"==typeof t?t(e):t;a!==e&&o(a)}else s(t)},[r,e,s,o])]}let yn=null;function wn({open:e,onOpenChange:t,children:a,onDrag:n,onRelease:s,snapPoints:r,shouldScaleBackground:i=!1,setBackgroundColorOnScale:o=!0,closeThreshold:l=.25,scrollLockTimeout:c=100,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:m=r&&r.length-1,activeSnapPoint:f,setActiveSnapPoint:p,fixed:h,modal:g=!0,onClose:x,nested:v,noBodyStyles:y,direction:w="bottom",defaultOpen:b=!1,disablePreventScroll:N=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:S=!1,repositionInputs:E=!0,onAnimationEnd:C,container:k,autoFocus:R=!1}){var T,A;const[I=!1,D]=vn({defaultProp:b,prop:e,onChange:e=>{null==t||t(e),e||v||de(),setTimeout(()=>{null==C||C(e)},1e3*pn.DURATION),e&&!g&&"undefined"!=typeof window&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),e||(document.body.style.pointerEvents="auto")}}),[L,O]=ee.useState(!1),[M,$]=ee.useState(!1),[_,B]=ee.useState(!1),z=ee.useRef(null),F=ee.useRef(null),U=ee.useRef(null),H=ee.useRef(null),q=ee.useRef(null),Y=ee.useRef(!1),V=ee.useRef(null),W=ee.useRef(0),K=ee.useRef(!1),G=ee.useRef(0),Z=ee.useRef(null),J=ee.useRef((null==(T=Z.current)?void 0:T.getBoundingClientRect().height)||0),X=ee.useRef((null==(A=Z.current)?void 0:A.getBoundingClientRect().width)||0),Q=ee.useRef(0),te=ee.useCallback(e=>{r&&e===ie.length-1&&(F.current=new Date)},[]),{activeSnapPoint:ae,activeSnapPointIndex:ne,setActiveSnapPoint:se,onRelease:re,snapPointsOffset:ie,onDrag:oe,shouldFade:le,getPercentageDragged:ce}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:a,drawerRef:n,overlayRef:s,fadeFromIndex:r,onSnapPointChange:i,direction:o="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=vn({prop:e,defaultProp:null==a?void 0:a[0],onChange:t}),[m,f]=ee.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ee.useEffect(()=>{function e(){f({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const p=ee.useMemo(()=>d===(null==a?void 0:a[a.length-1])||null,[a,d]),h=ee.useMemo(()=>null==a?void 0:a.findIndex(e=>e===d),[a,d]),g=a&&a.length>0&&(r||0===r)&&!Number.isNaN(r)&&a[r]===d||!a,x=ee.useMemo(()=>{const e=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:"undefined"!=typeof window?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var t;return null!=(t=null==a?void 0:a.map(t=>{const a="string"==typeof t;let n=0;if(a&&(n=parseInt(t,10)),un(o)){const s=a?n:m?t*e.height:0;return m?"bottom"===o?e.height-s:-e.height+s:s}const s=a?n:m?t*e.width:0;return m?"right"===o?e.width-s:-e.width+s:s}))?t:[]},[a,m,l]),v=ee.useMemo(()=>null!==h?null==x?void 0:x[h]:null,[x,h]),y=ee.useCallback(e=>{var t;const l=null!=(t=null==x?void 0:x.findIndex(t=>t===e))?t:null;i(l),dn(n.current,{transition:`transform ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,transform:un(o)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),x&&l!==x.length-1&&l!==r&&l<r?dn(s.current,{transition:`opacity ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,opacity:"0"}):dn(s.current,{transition:`opacity ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,opacity:"1"}),u(null==a?void 0:a[Math.max(l,0)])},[n.current,a,x,r,s,u]);return ee.useEffect(()=>{if(d||e){var t;const n=null!=(t=null==a?void 0:a.findIndex(t=>t===e||t===d))?t:-1;x&&-1!==n&&"number"==typeof x[n]&&y(x[n])}},[d,e,a,x,y]),{isLastSnapPoint:p,activeSnapPoint:d,shouldFade:g,getPercentageDragged:function(e,t){if(!a||"number"!=typeof h||!x||void 0===r)return null;const n=h===r-1;if(h>=r&&t)return 0;if(n&&!t)return 1;if(!g&&!n)return null;const s=n?h+1:h-1,i=n?x[s]-x[s-1]:x[s+1]-x[s],o=e/Math.abs(i);return n?1-o:o},setActiveSnapPoint:u,activeSnapPointIndex:h,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:n,dismissible:i}){if(void 0===r)return;const l="bottom"===o||"right"===o?(null!=v?v:0)-e:(null!=v?v:0)+e,d=0===h,u=e>0;if(h===r-1&&dn(s.current,{transition:`opacity ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`}),!c&&n>2&&!u)return void(i?t():y(x[0]));if(!c&&n>2&&u&&x&&a)return void y(x[a.length-1]);const m=null==x?void 0:x.reduce((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-l)<Math.abs(e-l)?t:e),f=un(o)?window.innerHeight:window.innerWidth;if(n>.4&&Math.abs(e)<.4*f){const e=u?1:-1;if(e>0&&p)return void y(x[a.length-1]);if(d&&e<0&&i&&t(),null===h)return;return void y(x[h+e])}y(m)},onDrag:function({draggedDistance:e}){if(null===v)return;const t="bottom"===o||"right"===o?v-e:v+e;("bottom"===o||"right"===o)&&t<x[x.length-1]||("top"===o||"left"===o)&&t>x[x.length-1]||dn(n.current,{transform:un(o)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:x}}({snapPoints:r,activeSnapPointProp:f,setActiveSnapPointProp:p,drawerRef:Z,fadeFromIndex:m,overlayRef:z,onSnapPointChange:te,direction:w,container:k,snapToSequentialPoint:j});nn({isDisabled:!I||M||!g||_||!L||!E||!N});const{restorePositionSetting:de}=function({isOpen:e,modal:t,nested:a,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:r}){const[i,o]=ee.useState(()=>"undefined"!=typeof window?window.location.href:""),l=ee.useRef(0),c=ee.useCallback(()=>{if(Wa()&&null===yn&&e&&!r){yn={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:-l.current+"px",left:-e+"px",right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const e=t-window.innerHeight;e&&l.current>=t&&(document.body.style.top=-(l.current+e)+"px")}),300)}},[e]),d=ee.useCallback(()=>{if(Wa()&&null!==yn&&!r){const e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,yn),window.requestAnimationFrame(()=>{s&&i!==window.location.href?o(window.location.href):window.scrollTo(t,e)}),yn=null}},[i]);return ee.useEffect(()=>{function e(){l.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),ee.useEffect(()=>{!a&&n&&(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,a,c,d]),{restorePositionSetting:d}}({isOpen:I,modal:g,nested:v,hasBeenOpened:L,preventScrollRestoration:S,noBodyStyles:y});function ue(){return(window.innerWidth-26)/window.innerWidth}function me(e,t){var a,n;let s=e;const r=null==(a=window.getSelection())?void 0:a.toString(),i=Z.current?mn(Z.current,w):null,o=new Date;if(s.hasAttribute("data-vaul-no-drag")||s.closest("[data-vaul-no-drag]"))return!1;if("right"===w||"left"===w)return!0;if(F.current&&o.getTime()-F.current.getTime()<500)return!1;if(null!==i&&("bottom"===w?i>0:i<0))return!0;if(r&&r.length>0)return!1;if(o.getTime()-(null==(n=q.current)?void 0:n.getTime())<c&&0===i)return q.current=o,!1;if(t)return q.current=o,!1;for(;s;){if(s.scrollHeight>s.clientHeight){if(0!==s.scrollTop)return q.current=new Date,!1;if("dialog"===s.getAttribute("role"))return!0}s=s.parentNode}return!0}function fe(e){!function(){if(!M||!Z.current)return;Z.current.classList.remove(gn),Y.current=!1,$(!1),H.current=new Date}(),null==x||x(),e||D(!1),setTimeout(()=>{r&&se(r[0])},1e3*pn.DURATION)}function pe(){if(!Z.current)return;const e=document.querySelector("[data-vaul-drawer-wrapper]"),t=mn(Z.current,w);dn(Z.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`}),dn(z.current,{transition:`opacity ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,opacity:"1"}),i&&t&&t>0&&I&&dn(e,{borderRadius:"8px",overflow:"hidden",...un(w)?{transform:`scale(${ue()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ue()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${pn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${pn.EASE.join(",")})`},!0)}return ee.useEffect(()=>{var e;function t(){if(!Z.current||!E)return;if(on(document.activeElement)||K.current){var e;const t=(null==(e=window.visualViewport)?void 0:e.height)||0,a=window.innerHeight;let n=a-t;const s=Z.current.getBoundingClientRect().height||0,i=s>.8*a;Q.current||(Q.current=s);const o=Z.current.getBoundingClientRect().top;if(Math.abs(G.current-n)>60&&(K.current=!K.current),r&&r.length>0&&ie&&ne){n+=ie[ne]||0}if(G.current=n,s>t||K.current){const e=Z.current.getBoundingClientRect().height;let a=e;e>t&&(a=t-(i?o:26)),Z.current.style.height=h?e-Math.max(n,0)+"px":`${Math.max(a,t-o)}px`}else Z.current.style.height=`${Q.current}px`;r&&r.length>0&&!K.current?Z.current.style.bottom="0px":Z.current.style.bottom=`${Math.max(n,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}},[ne,r,ie]),ee.useEffect(()=>(I&&(dn(document.documentElement,{scrollBehavior:"auto"}),F.current=new Date),()=>{!function(e,t){if(!(e&&e instanceof HTMLElement))return;let a=cn.get(e);a&&(e.style[t]=a[t])}(document.documentElement,"scrollBehavior")}),[I]),ee.createElement(P,{defaultOpen:b,onOpenChange:e=>{(d||e)&&(e?O(!0):fe(!0),D(e))},open:I},ee.createElement(Ha.Provider,{value:{activeSnapPoint:ae,snapPoints:r,setActiveSnapPoint:se,drawerRef:Z,overlayRef:z,onOpenChange:t,onPress:function(e){var t,a;(d||r)&&(Z.current&&!Z.current.contains(e.target)||(J.current=(null==(t=Z.current)?void 0:t.getBoundingClientRect().height)||0,X.current=(null==(a=Z.current)?void 0:a.getBoundingClientRect().width)||0,$(!0),U.current=new Date,Ga()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),e.target.setPointerCapture(e.pointerId),W.current=un(w)?e.pageY:e.pageX))},onRelease:function(e){if(!M||!Z.current)return;Z.current.classList.remove(gn),Y.current=!1,$(!1),H.current=new Date;const t=mn(Z.current,w);if(!me(e.target,!1)||!t||Number.isNaN(t))return;if(null===U.current)return;const a=H.current.getTime()-U.current.getTime(),n=W.current-(un(w)?e.pageY:e.pageX),i=Math.abs(n)/a;if(i>.05&&(B(!0),setTimeout(()=>{B(!1)},200)),r){return re({draggedDistance:n*("bottom"===w||"right"===w?1:-1),closeDrawer:fe,velocity:i,dismissible:d}),void(null==s||s(e,!0))}if("bottom"===w||"right"===w?n>0:n<0)return pe(),void(null==s||s(e,!0));if(i>.4)return fe(),void(null==s||s(e,!1));var o;const c=Math.min(null!=(o=Z.current.getBoundingClientRect().height)?o:0,window.innerHeight);var u;const m=Math.min(null!=(u=Z.current.getBoundingClientRect().width)?u:0,window.innerWidth),f="left"===w||"right"===w;if(Math.abs(t)>=(f?m:c)*l)return fe(),void(null==s||s(e,!1));null==s||s(e,!0),pe()},onDrag:function(e){var t;if(Z.current&&M){const a="bottom"===w||"right"===w?1:-1,s=(W.current-(un(w)?e.pageY:e.pageX))*a,o=s>0,l=r&&!d&&!o;if(l&&0===ne)return;const c=Math.abs(s),u=document.querySelector("[data-vaul-drawer-wrapper]");let f=c/("bottom"===w||"top"===w?J.current:X.current);const p=ce(c,o);if(null!==p&&(f=p),l&&f>=1)return;if(!Y.current&&!me(e.target,o))return;if(Z.current.classList.add(gn),Y.current=!0,dn(Z.current,{transition:"none"}),dn(z.current,{transition:"none"}),r&&oe({draggedDistance:s}),o&&!r){const e=(t=s,8*(Math.log(t+1)-2)),n=Math.min(-1*e,0)*a;return void dn(Z.current,{transform:un(w)?`translate3d(0, ${n}px, 0)`:`translate3d(${n}px, 0, 0)`})}const h=1-f;if((le||m&&ne===m-1)&&(null==n||n(e,f),dn(z.current,{opacity:`${h}`,transition:"none"},!0)),u&&z.current&&i){const e=Math.min(ue()+f*(1-ue()),1),t=8-8*f,a=Math.max(0,14-14*f);dn(u,{borderRadius:`${t}px`,transform:un(w)?`scale(${e}) translate3d(0, ${a}px, 0)`:`scale(${e}) translate3d(${a}px, 0, 0)`,transition:"none"},!0)}if(!r){const e=c*a;dn(Z.current,{transform:un(w)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:d,handleOnly:u,isOpen:I,isDragging:M,shouldFade:le,closeDrawer:fe,onNestedDrag:function(e,t){if(t<0)return;const a=(window.innerWidth-hn)/window.innerWidth,n=a+t*(1-a),s=t*hn-16;dn(Z.current,{transform:un(w)?`scale(${n}) translate3d(0, ${s}px, 0)`:`scale(${n}) translate3d(${s}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){const t=e?(window.innerWidth-hn)/window.innerWidth:1,a=e?-16:0;V.current&&window.clearTimeout(V.current),dn(Z.current,{transition:`transform ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,transform:`scale(${t}) translate3d(0, ${a}px, 0)`}),!e&&Z.current&&(V.current=setTimeout(()=>{const e=mn(Z.current,w);dn(Z.current,{transition:"none",transform:un(w)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},500))},onNestedRelease:function(e,t){const a=un(w)?window.innerHeight:window.innerWidth,n=t?(a-hn)/a:1,s=t?-16:0;t&&dn(Z.current,{transition:`transform ${pn.DURATION}s cubic-bezier(${pn.EASE.join(",")})`,transform:un(w)?`scale(${n}) translate3d(0, ${s}px, 0)`:`scale(${n}) translate3d(${s}px, 0, 0)`})},keyboardIsOpen:K,modal:g,snapPointsOffset:ie,direction:w,shouldScaleBackground:i,setBackgroundColorOnScale:o,noBodyStyles:y,container:k,autoFocus:R}},a))}const bn=ee.forwardRef(function({...e},t){const{overlayRef:a,snapPoints:n,onRelease:s,shouldFade:r,isOpen:i,modal:o}=qa(),l=ln(t,a),c=n&&n.length>0;return o?ee.createElement(S,{onMouseUp:s,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":i&&c?"true":"false","data-vaul-snap-points-overlay":i&&r?"true":"false",...e}):("undefined"!=typeof window&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});bn.displayName="Drawer.Overlay";const Nn=ee.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:a,...n},s){const{drawerRef:r,onPress:i,onRelease:o,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,modal:u,isOpen:m,direction:f,snapPoints:p,container:h,handleOnly:g,autoFocus:x}=qa(),[v,y]=ee.useState(!1),w=ln(s,r),b=ee.useRef(null),N=ee.useRef(null),j=ee.useRef(!1),S=p&&p.length>0;!function(){const{direction:e,isOpen:t,shouldScaleBackground:a,setBackgroundColorOnScale:n,noBodyStyles:s}=qa(),r=ee.useRef(null),i=Q.useMemo(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-26)/window.innerWidth}ee.useEffect(()=>{if(t&&a){r.current&&clearTimeout(r.current);const t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;n&&!s&&fn(document.body,{background:"black"}),fn(t,{transformOrigin:un(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${pn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${pn.EASE.join(",")})`});const a=fn(t,{borderRadius:"8px",overflow:"hidden",...un(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{a(),r.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},1e3*pn.DURATION)}}},[t,a,i])}();function C(e){b.current=null,j.current=!1,o(e)}return ee.useEffect(()=>{S&&window.requestAnimationFrame(()=>{y(!0)})},[]),ee.createElement(E,{"data-vaul-drawer-direction":f,"data-vaul-drawer":"","data-vaul-delayed-snap-points":v?"true":"false","data-vaul-snap-points":m&&S?"true":"false","data-vaul-custom-container":h?"true":"false",...n,ref:w,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:e=>{g||(null==n.onPointerDown||n.onPointerDown.call(n,e),b.current={x:e.pageX,y:e.pageY},i(e))},onOpenAutoFocus:e=>{null==a||a(e),x||e.preventDefault()},onPointerDownOutside:t=>{null==e||e(t),u&&!t.defaultPrevented?c.current&&(c.current=!1):t.preventDefault()},onFocusOutside:e=>{u||e.preventDefault()},onPointerMove:e=>{if(N.current=e,g)return;if(null==n.onPointerMove||n.onPointerMove.call(n,e),!b.current)return;const t=e.pageY-b.current.y,a=e.pageX-b.current.x,s="touch"===e.pointerType?10:2,r=((e,t,a=0)=>{if(j.current)return!0;const n=Math.abs(e.y),s=Math.abs(e.x),r=s>n,i=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*i<0)&&s>=0&&s<=a)return r}else if(!(e.y*i<0)&&n>=0&&n<=a)return!r;return j.current=!0,!0})({x:a,y:t},f,s);r?l(e):(Math.abs(a)>s||Math.abs(t)>s)&&(b.current=null)},onPointerUp:e=>{null==n.onPointerUp||n.onPointerUp.call(n,e),b.current=null,j.current=!1,o(e)},onPointerOut:e=>{null==n.onPointerOut||n.onPointerOut.call(n,e),C(N.current)},onContextMenu:e=>{null==n.onContextMenu||n.onContextMenu.call(n,e),C(N.current)}})});Nn.displayName="Drawer.Content";const jn=ee.forwardRef(function({preventCycle:e=!1,children:t,...a},n){const{closeDrawer:s,isDragging:r,snapPoints:i,activeSnapPoint:o,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:m,onDrag:f}=qa(),p=ee.useRef(null),h=ee.useRef(!1);function g(){window.clearTimeout(p.current),h.current=!1}return ee.createElement("div",{onClick:function(){h.current?g():window.setTimeout(()=>{!function(){if(r||e||h.current)return void g();if(g(),(!i||0===i.length)&&c)return void s();if(o===i[i.length-1]&&c)return void s();const t=i.findIndex(e=>e===o);if(-1===t)return;const a=i[t+1];l(a)}()},120)},onPointerCancel:g,onPointerDown:e=>{d&&m(e),p.current=window.setTimeout(()=>{h.current=!0},250)},onPointerMove:e=>{d&&f(e)},ref:n,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...a},ee.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});jn.displayName="Drawer.Handle";const Sn={Root:wn,NestedRoot:function({onDrag:e,onOpenChange:t,...a}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:r}=qa();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return ee.createElement(wn,{nested:!0,onClose:()=>{s(!1)},onDrag:(t,a)=>{n(t,a),null==e||e(t,a)},onOpenChange:e=>{e&&s(e)},onRelease:r,...a})},Content:Nn,Overlay:bn,Trigger:C,Portal:function(e){const t=qa(),{container:a=t.container,...n}=e;return ee.createElement(A,{container:a,...n})},Handle:jn,Close:k,Title:R,Description:T},En=({shouldScaleBackground:e=!0,...t})=>n.jsx(Sn.Root,{shouldScaleBackground:e,...t});En.displayName="Drawer";const Cn=Sn.Portal,kn=Q.forwardRef(({className:e,...t},a)=>n.jsx(Sn.Overlay,{ref:a,className:ct("fixed inset-0 z-50 bg-black/80",e),...t}));kn.displayName=Sn.Overlay.displayName;const Rn=Q.forwardRef(({className:e,children:t,...a},s)=>n.jsxs(Cn,{children:[n.jsx(kn,{}),n.jsxs(Sn.Content,{ref:s,className:ct("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...a,children:[n.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));Rn.displayName="DrawerContent";const Tn=({className:e,...t})=>n.jsx("div",{className:ct("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Tn.displayName="DrawerHeader";const Pn=Q.forwardRef(({className:e,...t},a)=>n.jsx(Sn.Title,{ref:a,className:ct("text-lg font-semibold leading-none tracking-tight",e),...t}));Pn.displayName=Sn.Title.displayName;function An(){const e=Ye(),[t,a]=Q.useState(!1);if(Q.useEffect(()=>{a(!0)},[]),!t)return null;const s=t=>e.pathname===t;return n.jsxs(n.Fragment,{children:[n.jsxs(Je.nav,{className:"fixed bottom-0 left-0 right-0 z-40",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30},children:[n.jsxs("div",{className:"mx-4 mb-5 rounded-2xl bg-background/95 border border-white/10 shadow-2xl px-5 py-2 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs(Ve,{to:"/",className:({isActive:e})=>ct("flex flex-col items-center justify-center min-w-10",e&&"text-foreground"),children:[n.jsx(oe,{className:ct("w-6 h-6",s("/")?"text-foreground":"text-muted-foreground")}),n.jsx("span",{className:ct("text-[11px] mt-1",s("/")?"text-foreground":"text-muted-foreground"),children:"Home"})]}),n.jsxs(Ve,{to:"/safe",className:({isActive:e})=>ct("flex flex-col items-center justify-center min-w-10",e&&"text-foreground"),children:[n.jsx(le,{className:ct("w-6 h-6",s("/safe")?"text-safe":"text-muted-foreground")}),n.jsx("span",{className:ct("text-[11px] mt-1",s("/safe")?"text-safe":"text-muted-foreground"),children:"Safe Places"})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs(Ve,{to:"/contacts",className:({isActive:e})=>ct("flex flex-col items-center justify-center min-w-10",e&&"text-foreground"),children:[n.jsx(ce,{className:ct("w-6 h-6",s("/contacts")?"text-info":"text-muted-foreground")}),n.jsx("span",{className:ct("text-[11px] mt-1",s("/contacts")?"text-info":"text-muted-foreground"),children:"Contacts"})]}),n.jsxs(Ve,{to:"/ai",className:({isActive:e})=>ct("flex flex-col items-center justify-center min-w-10",e&&"text-foreground"),children:[n.jsx(de,{className:ct("w-6 h-6",s("/ai")?"text-accent":"text-muted-foreground")}),n.jsx("span",{className:ct("text-[11px] mt-1",s("/ai")?"text-accent":"text-muted-foreground"),children:"AI Assistant"})]})]})]}),n.jsx("div",{className:"pointer-events-none",children:n.jsx(Ve,{to:"/sos",className:"pointer-events-auto absolute left-1/2 bottom-8 -translate-x-1/2",children:n.jsxs("div",{className:"pulse-emergency w-20 h-20 rounded-full bg-emergency text-emergency-foreground shadow-2xl flex items-center justify-center border-4 border-white/20",children:[n.jsx(ue,{className:"w-5 h-5 mr-1"}),n.jsx("span",{className:"text-base font-bold",children:"SOS"})]})})})]}),n.jsx("div",{className:"h-safe-bottom bg-background/70 border-t border-white/10"})]})}Q.forwardRef(({className:e,...t},a)=>n.jsx(Sn.Description,{ref:a,className:ct("text-sm text-muted-foreground",e),...t})).displayName=Sn.Description.displayName;const In=e=>{let t;const a=new Set,n=(e,n)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),a.forEach(a=>a(t,e))}},s=()=>t,r={setState:n,getState:s,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{a.clear()}};return t=e(n,s,r),r};var Dn={exports:{}},Ln={},On={exports:{}},Mn={},$n=Q;var _n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Bn=$n.useState,zn=$n.useEffect,Fn=$n.useLayoutEffect,Un=$n.useDebugValue;function Hn(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_n(e,a)}catch(n){return!0}}var qn="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),n=Bn({inst:{value:a,getSnapshot:t}}),s=n[0].inst,r=n[1];return Fn(function(){s.value=a,s.getSnapshot=t,Hn(s)&&r({inst:s})},[e,a,t]),zn(function(){return Hn(s)&&r({inst:s}),e(function(){Hn(s)&&r({inst:s})})},[e]),Un(a),a};Mn.useSyncExternalStore=void 0!==$n.useSyncExternalStore?$n.useSyncExternalStore:qn,On.exports=Mn;var Yn=On.exports,Vn=Q,Wn=Yn;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gn=Wn.useSyncExternalStore,Zn=Vn.useRef,Jn=Vn.useEffect,Xn=Vn.useMemo,Qn=Vn.useDebugValue;Ln.useSyncExternalStoreWithSelector=function(e,t,a,n,s){var r=Zn(null);if(null===r.current){var i={hasValue:!1,value:null};r.current=i}else i=r.current;r=Xn(function(){function e(e){if(!l){if(l=!0,r=e,e=n(e),void 0!==s&&i.hasValue){var t=i.value;if(s(t,e))return o=t}return o=e}if(t=o,Kn(r,e))return t;var a=n(e);return void 0!==s&&s(t,a)?t:(r=e,o=a)}var r,o,l=!1,c=void 0===a?null:a;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,a,n,s]);var o=Gn(e,r[0],r[1]);return Jn(function(){i.hasValue=!0,i.value=o},[o]),Qn(o),o},Dn.exports=Ln;const es=ae(Dn.exports),ts={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:as}=ee,{useSyncExternalStoreWithSelector:ns}=es;let ss=!1;const rs=(e=>{const t="function"==typeof e?(e=>e?In(e):In)(e):e,a=(e,a)=>function(e,t=e.getState,a){"production"!==(ts?"production":void 0)&&a&&!ss&&(ss=!0);const n=ns(e.subscribe,e.getState,e.getServerState||e.getState,t,a);return as(n),n}(t,e,a);return Object.assign(a,t),a})((e=>(t,a,n)=>{const s=n.subscribe;n.subscribe=(e,t,a)=>{let r=e;if(t){const s=(null==a?void 0:a.equalityFn)||Object.is;let i=e(n.getState());r=a=>{const n=e(a);if(!s(i,n)){const e=i;t(i=n,e)}},(null==a?void 0:a.fireImmediately)&&t(i,i)}return s(r)};return e(t,a,n)})((e,t)=>({userLocation:null,disasterZones:[],safeZones:[],dangerZones:[],isLocationPermissionGranted:!1,isOffline:!1,emergencyContacts:[{id:"1",name:"Emergency Services",phone:"911",type:"emergency",icon:"🚨"},{id:"2",name:"Fire Department",phone:"911",type:"emergency",icon:"🚒"},{id:"3",name:"Police",phone:"911",type:"emergency",icon:"👮‍♂️"},{id:"4",name:"Poison Control",phone:"1-800-222-1222",type:"medical",icon:"☠️"}],notifications:[],unreadCount:0,userProfile:null,alertStatus:null,isDangerActive:!1,setUserLocation:t=>e({userLocation:t}),setLocationPermission:t=>e({isLocationPermissionGranted:t}),setDisasterZones:t=>e({disasterZones:t}),setSafeZones:t=>e({safeZones:t}),addNotification:t=>e(e=>({notifications:[{...t,id:Date.now().toString()},...e.notifications],unreadCount:e.unreadCount+1})),markNotificationRead:t=>e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)})),setOfflineStatus:t=>e({isOffline:t}),setUserProfile:t=>e({userProfile:t}),updateUserProfile:t=>e(e=>({userProfile:e.userProfile?{...e.userProfile,...t}:null})),setAlertStatus:t=>e({alertStatus:t}),setDangerActive:t=>e({isDangerActive:t}),addDangerZone:t=>e(e=>({dangerZones:[...e.dangerZones,{...t,id:Date.now().toString()}]})),removeDangerZone:t=>e(e=>({dangerZones:e.dangerZones.filter(e=>e.id!==t)})),clearDangerZones:()=>e({dangerZones:[]})}))),is=()=>rs(e=>e.userLocation);function os(){const e=rs(e=>e.unreadCount);return n.jsx(Je.div,{className:"fixed top-0 left-0 right-0 z-50  ",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30},children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 h-16",children:[n.jsx(Ve,{to:"/settings",className:({isActive:e})=>ct("relative flex items-center bg-black justify-center w-12 h-12 rounded-xl  transition-all duration-200",e&&"bg-white/10"),children:n.jsx(me,{className:"w-5 h-5 text-foreground"})}),n.jsxs(Ve,{to:"/notifications",className:({isActive:e})=>ct("relative flex items-center justify-center w-12 h-12 rounded-xl bg-black  transition-all duration-200",e&&"bg-white/10"),children:[n.jsx(fe,{className:"w-5 h-5 text-foreground"}),e>0&&n.jsx(_a,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:e>9?"9+":e})]})]})})}const ls={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},cs={type:"tween",ease:"anticipate",duration:.25};function ds({children:e,className:t=""}){return n.jsxs("div",{className:"relative min-h-screen bg-background",children:[n.jsx(os,{}),n.jsx(Je.main,{initial:"initial",animate:"in",exit:"out",variants:ls,transition:cs,className:`pt-20 pb-28 ${t}`,children:e}),n.jsx(An,{})]})}const us="http://localhost:4000",ms=["hospital","police","fire_station","school","university","local_government_office","city_hall","library","museum","stadium","lodging","shopping_mall","supermarket","train_station","bus_station","subway_station"];function fs(e,t,a,n){const s=new URLSearchParams({lat:e.toString(),lng:t.toString(),type:a,radius:n.toString()});return`${us}/api/places/nearby?${s.toString()}`}async function ps(e,t,a=5e3){var n,s,r,i,o;const l=[];let c=!1;for(const f of ms)try{const d=fs(e,t,f,a),u=await fetch(d);if(!u.ok)continue;const m=await u.json();if(!m.results)continue;c=!0;for(const e of m.results){const t={id:e.place_id,name:e.name,address:e.vicinity||e.formatted_address||"",lat:null==(s=null==(n=e.geometry)?void 0:n.location)?void 0:s.lat,lng:null==(i=null==(r=e.geometry)?void 0:r.location)?void 0:i.lng,type:f,rating:e.rating,openNow:null==(o=e.opening_hours)?void 0:o.open_now,icon:e.icon};l.push(t)}}catch(m){}const d=new Map;for(const f of l)d.has(f.id)||d.set(f.id,f);const u=Array.from(d.values());return u.length>0||c?u:[{id:"static-hospital",name:"General Hospital",address:"Main Ave",lat:e,lng:t+.01,type:"hospital"},{id:"static-police",name:"City Police HQ",address:"3rd Street",lat:e+.008,lng:t-.008,type:"police"},{id:"static-school",name:"Central High School",address:"School Rd",lat:e-.006,lng:t+.006,type:"school"},{id:"static-university",name:"City University",address:"Campus Way",lat:e+.012,lng:t+.004,type:"university"}]}function hs(e,t,a,n){return`https://www.google.com/maps/dir/?${new URLSearchParams({api:"1",origin:`${e},${t}`,destination:`${a},${n}`}).toString()}`}function gs({userLocation:e,disasterZones:t=[],loading:a=!1,className:s=""}){const r=Q.useRef(null),i=Q.useRef(null),o=Q.useRef(null),l=Q.useRef([]),c=Q.useRef([]),d=Q.useRef([]),[u,m]=Q.useState(""),f=rs(e=>e.setSafeZones),p=rs(e=>e.dangerZones),h=rs(e=>e.isDangerActive);return Q.useEffect(()=>{if(!r.current||i.current)return;const t=Qe.map(r.current,{center:e?[e.lat,e.lng]:[40.7589,-73.9851],zoom:e?15:10,zoomControl:!0,attributionControl:!0});return Qe.tileLayer("https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=xanBpghmk4MnYRATZ0Jd",{attribution:"© MapTiler © OpenStreetMap contributors",maxZoom:20}).addTo(t),i.current=t,()=>{i.current&&(i.current.remove(),i.current=null)}},[]),Q.useEffect(()=>{if(!i.current||!e)return;o.current&&i.current.removeLayer(o.current),(async(e,t)=>{try{const a=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${e}&longitude=${t}&localityLanguage=en`),n=await a.json();return n.city||n.locality||n.principalSubdivision||"Unknown Location"}catch(a){return"Unknown Location"}})(e.lat,e.lng).then(m);const t=Qe.divIcon({html:'\n        <div class="relative">\n          <div class="w-8 h-8 bg-blue-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center">\n            <div class="w-4 h-4 bg-white rounded-full"></div>\n          </div>\n          <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-blue-500"></div>\n        </div>\n      ',className:"user-location-marker",iconSize:[32,40],iconAnchor:[16,40]}),a=Qe.marker([e.lat,e.lng],{icon:t,zIndexOffset:1e3}).bindPopup(`\n        <div class="glass p-3 border border-white/20 rounded-lg">\n          <div class="flex items-center gap-2 mb-2">\n            <div class="w-3 h-3 bg-blue-500 rounded-full"></div>\n            <span class="font-medium text-blue-500">My Location</span>\n          </div>\n          <div class="text-sm text-muted-foreground">\n            ${e.lat.toFixed(6)}, ${e.lng.toFixed(6)}\n          </div>\n        </div>\n      `).addTo(i.current);o.current=a,i.current.setView([e.lat,e.lng],15),(async()=>{try{c.current.forEach(e=>{var t;return null==(t=i.current)?void 0:t.removeLayer(e)}),c.current=[];const t=await ps(e.lat,e.lng,5e3);f(t.map(e=>({id:e.id,name:e.name,type:e.type,coordinates:[e.lat,e.lng],capacity:0,available:!0,tags:[],contact:""})));const a=e=>{const t=e.includes("hospital")?"#22c55e":e.includes("police")?"#3b82f6":e.includes("fire")?"#ef4444":"#14b8a6";return Qe.divIcon({html:`\n              <div class="relative">\n                <div class="w-6 h-6" style="background:${t}; border:2px solid white; border-radius:9999px; box-shadow:0 2px 6px rgba(0,0,0,.4)"></div>\n                <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-3 border-r-3 border-t-4" style="border-left-color:transparent;border-right-color:transparent;border-top-color:${t}"></div>\n              </div>\n            `,className:"safe-place-marker",iconSize:[24,32],iconAnchor:[12,32]})};t.forEach(t=>{if(i.current){const n=Qe.marker([t.lat,t.lng],{icon:a(t.type)}).bindPopup(`\n                <div class="glass p-3 border border-white/20 rounded-lg">\n                  <div class="font-medium">${t.name}</div>\n                  <div class="text-xs text-muted-foreground mb-2">${t.address}</div>\n                  <a href="${hs(e.lat,e.lng,t.lat,t.lng)}" target="_blank" class="text-green-400 underline">Directions</a>\n                </div>\n              `).addTo(i.current);c.current.push(n)}})}catch(t){}})()},[e,f]),Q.useEffect(()=>{i.current&&(l.current.forEach(e=>{var t;null==(t=i.current)||t.removeLayer(e)}),l.current=[],t.forEach(e=>{if(e.coordinates&&e.coordinates.length>0){const t=e.coordinates[0],a=Qe.divIcon({html:'\n            <div class="relative">\n              <div class="w-8 h-8 bg-emergency rounded-full border-2 border-white shadow-lg animate-pulse-emergency flex items-center justify-center">\n                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">\n                  <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>\n                </svg>\n              </div>\n            </div>\n          ',className:"disaster-zone-marker",iconSize:[32,32],iconAnchor:[16,16]});if(i.current){const n=Qe.marker([t[0],t[1]],{icon:a,zIndexOffset:500}).bindPopup(`\n              <div class="glass p-4 border border-emergency/30 rounded-lg max-w-xs">\n                <div class="flex items-center gap-2 mb-2">\n                  <div class="w-3 h-3 bg-emergency rounded-full animate-pulse"></div>\n                  <span class="font-medium text-emergency">${e.title||"Alert Zone"}</span>\n                </div>\n                <div class="text-xs text-muted-foreground">\n                  Severity: <span class="text-emergency font-medium">${e.severity.toUpperCase()}</span>\n                </div>\n                <div class="text-xs text-muted-foreground">Type: ${e.type}</div>\n              </div>\n            `).addTo(i.current);l.current.push(n);const s=Qe.circle([t[0],t[1]],{color:"hsl(var(--emergency))",fillColor:"hsl(var(--emergency))",fillOpacity:.1,radius:500,weight:2,opacity:.6}).addTo(i.current);l.current.push(s)}}}))},[t]),Q.useEffect(()=>{i.current&&(d.current.forEach(e=>{var t;null==(t=i.current)||t.removeLayer(e)}),d.current=[],p.forEach(e=>{if(i.current){const t=Qe.circle([e.center[0],e.center[1]],{color:e.color,fillColor:e.color,fillOpacity:.1,radius:e.radius,weight:3,opacity:.8}).addTo(i.current);d.current.push(t)}const t=()=>{((t,a)=>{if(i.current){const n=Qe.circle([e.center[0],e.center[1]],{color:e.color,fillColor:e.color,fillOpacity:0,radius:t,weight:2,opacity:a}).addTo(i.current);let s=t,r=a;const o=()=>{var t;s+=50,r-=.02,r>0&&s<3*e.radius?(n.setRadius(s),n.setStyle({opacity:r}),setTimeout(o,100)):null==(t=i.current)||t.removeLayer(n)};o(),d.current.push(n)}})(e.radius,.6),setTimeout(t,2e3)};h&&t()}))},[p,h]),n.jsxs("div",{className:`relative ${s}`,children:[n.jsx("div",{ref:r,className:"h-full w-full leaflet-container"}),a&&n.jsx(Je.div,{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},children:n.jsxs(Ba,{className:"glass p-6 text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-foreground",children:"Loading map..."})]})}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-4 left-4 z-30",children:n.jsx(Ba,{className:"glass border-white/20 backdrop-blur-md",children:n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-500",children:"My Location"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ue,{className:"w-3 h-3 text-emergency"}),n.jsx("span",{className:"text-emergency",children:"Disaster Zone"})]}),h&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-red-500",children:"Active Danger"})]})]})})}),u&&n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute top-4 left-4 z-30",children:n.jsx(Ba,{className:"glass border-white/20 backdrop-blur-md",children:n.jsx("div",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pe,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"font-medium text-green-500",children:u})]})})})})]})}const xs=[{id:"1",type:"flood",severity:"high",coordinates:[[40.7589,-73.9851],[40.7489,-73.9851],[40.7489,-73.9751],[40.7589,-73.9751]],title:"Times Square Flood Warning",description:"Heavy rainfall has caused street flooding in the Times Square area. Avoid the area and seek higher ground.",lastUpdated:(new Date).toISOString()}];function vs(){const{location:e,loading:t,error:a,requestLocation:s}=function(){const[e,t]=Q.useState({location:null,error:null,loading:!0,permission:null}),{setUserLocation:a,setLocationPermission:n}=rs(),s=Q.useCallback(e=>{const n={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy};a(n),t(e=>({...e,location:n,error:null,loading:!1}))},[a]),r=Q.useCallback(e=>{let a="Unable to retrieve your location.";switch(e.code){case e.PERMISSION_DENIED:a="Location permission denied. Please enable location access in your browser settings.",n(!1);break;case e.POSITION_UNAVAILABLE:a="Location information is unavailable.";break;case e.TIMEOUT:a="Location request timed out."}t(e=>({...e,error:a,loading:!1})),lt({title:"Location Error",description:a,variant:"destructive"})},[n]),i=Q.useCallback(()=>{navigator.geolocation?(t(e=>({...e,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(s,r,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})):r({code:2,message:"Geolocation is not supported by this browser.",PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3})},[s,r]),o=Q.useCallback(()=>navigator.geolocation?navigator.geolocation.watchPosition(s,r,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):null,[s,r]);return Q.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(e=>{t(t=>({...t,permission:e.state})),n("granted"===e.state),e.addEventListener("change",()=>{t(t=>({...t,permission:e.state})),n("granted"===e.state),"granted"===e.state&&i()})})},[i,n]),Q.useEffect(()=>{i()},[i]),{...e,requestLocation:i,watchLocation:o}}(),r=rs(e=>e.disasterZones),{setDisasterZones:i}=rs(),[o,l]=Q.useState(null);Q.useEffect(()=>{i(xs)},[i]);return a?n.jsx(ds,{children:n.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:n.jsxs(Ba,{className:"glass p-6 max-w-md text-center",children:[n.jsx(ue,{className:"w-12 h-12 text-warning mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Location Access Required"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(Ma,{onClick:s,variant:"outline",children:[n.jsx(he,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})}):n.jsxs(ds,{children:[n.jsxs("div",{className:"relative h-[calc(100vh-5rem)] w-full",children:[n.jsx(gs,{userLocation:e,disasterZones:r,loading:t,className:"h-full w-full"}),e&&n.jsx(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute top-4 right-4 z-30",children:n.jsx(Ba,{className:"glass border-safe/30 backdrop-blur-md",children:n.jsxs("div",{className:"p-3 flex items-center gap-2",children:[n.jsx(pe,{className:"w-4 h-4 text-safe"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-safe",children:"Location Found"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]})]})]})})}),r.length>0&&n.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"absolute top-4 left-4 z-30 space-y-2 max-w-xs",children:r.map((e,t)=>n.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+.1*t},children:n.jsx(Ba,{className:"glass border-emergency/30 bg-emergency/10 backdrop-blur-md cursor-pointer glass-hover",onClick:()=>l(e),children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ue,{className:"w-4 h-4 text-emergency"}),n.jsx(_a,{variant:"destructive",className:"text-xs",children:e.severity.toUpperCase()})]}),n.jsx("div",{className:"text-sm font-medium text-emergency",children:e.title}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.type," Alert"]})]})})},e.id))}),n.jsx(Je.div,{className:"absolute bottom-28 left-1/2 transform -translate-x-1/2 z-30",initial:{scale:0,y:100},animate:{scale:1,y:0},transition:{delay:.5,type:"spring",stiffness:300},children:n.jsxs(Ma,{size:"lg",className:"pulse-emergency bg-emergency hover:bg-emergency/90 text-emergency-foreground font-bold px-8 py-4 rounded-full shadow-2xl",onClick:()=>{lt({title:"🚨 Emergency Mode",description:"Redirecting to SOS page for immediate assistance..."}),window.location.href="/sos"},children:[n.jsx(ue,{className:"w-6 h-6 mr-2"}),"EMERGENCY SOS"]})})]}),o&&n.jsx(En,{open:!!o,onOpenChange:()=>l(null),children:n.jsxs(Rn,{className:"glass border-white/20",children:[n.jsx(Tn,{children:n.jsxs(Pn,{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"w-5 h-5 text-emergency"}),o.title]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs(_a,{variant:"critical"===o.severity||"high"===o.severity?"destructive":"secondary",className:"mb-2",children:[o.severity.toUpperCase()," ALERT"]}),n.jsx("p",{className:"text-foreground",children:o.description}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last Updated: ",new Date(o.lastUpdated).toLocaleString()]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs(Ma,{className:"flex-1",onClick:()=>(e=>{const t=e.coordinates[0],a=`https://www.google.com/maps/?q=${t[0]},${t[1]}`;window.open(a,"_blank"),lt({title:"🗺️ Opening Map",description:"Viewing disaster zone location on external map"})})(o),children:[n.jsx(he,{className:"w-4 h-4 mr-2"}),"Navigate to Safety"]}),n.jsxs(Ma,{variant:"outline",children:[n.jsx(le,{className:"w-4 h-4 mr-2"}),"Find Shelter"]})]})]})]})})]})}const ys=Q.forwardRef(({className:e,type:t,...a},s)=>n.jsx("input",{type:t,className:ct("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));function ws(){const[e,t]=Q.useState(""),[a,s]=Q.useState([]),[r,i]=Q.useState([]),[o,l]=Q.useState(!1),[c,d]=Q.useState(!0),u=is();Q.useEffect(()=>{(async()=>{if(u)try{d(!0);const e=await ps(u.lat,u.lng,5e3);s(e),i(e)}catch(e){lt({title:"Places Error",description:"Could not fetch nearby places. Showing none.",variant:"destructive"})}finally{d(!1)}else d(!1)})()},[u]),Q.useEffect(()=>{if(e.trim()){const t=e.toLowerCase();i(a.filter(e=>{var a,n,s;return(null==(a=e.name)?void 0:a.toLowerCase().includes(t))||(null==(n=e.type)?void 0:n.toLowerCase().includes(t))||(null==(s=e.address)?void 0:s.toLowerCase().includes(t))}))}else i(a)},[e,a]);const m=async()=>{l(!0),setTimeout(()=>l(!1),800)},f=e=>{const t=(e||"").toLowerCase();return t.includes("hospital")?"bg-safe/20 text-safe":t.includes("police")?"bg-info/20 text-info":t.includes("fire")?"bg-emergency/20 text-emergency":"bg-muted/20 text-muted-foreground"};return n.jsx(ds,{children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center pt-4",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Safe Places"}),n.jsx("p",{className:"text-muted-foreground",children:"Find nearby shelters and emergency services"})]}),n.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"glass p-4 rounded-xl",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(ys,{placeholder:"Search for shelters, hospitals, or emergency services...",value:e,onChange:e=>t(e.target.value),className:"pl-10 glass border-white/20",onKeyDown:e=>"Enter"===e.key&&m()})]}),n.jsx(Ma,{onClick:m,disabled:o,className:"bg-safe hover:bg-safe/90",children:o?n.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-white border-t-transparent rounded-full"}):"Search"})]}),u&&n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"📍 Searching near your current location"})]}),c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"space-y-4",children:[r.map((e,t)=>n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*(t+1)},children:n.jsxs(Ba,{className:"glass border-white/20 overflow-hidden",children:[n.jsx(za,{className:"pb-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs(Fa,{className:"text-lg mb-2 flex items-center gap-2",children:[n.jsx(le,{className:"w-5 h-5 text-safe"}),e.name]}),n.jsx(_a,{className:f(e.type),variant:"outline",children:e.type}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.address})]})})}),n.jsx(Ua,{className:"space-y-4",children:n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsxs(Ma,{onClick:()=>(e=>{const t=hs(u.lat,u.lng,e.lat,e.lng);window.open(t,"_blank"),lt({title:"🗺️ Opening Navigation",description:`Navigating to ${e.name}`})})(e),className:"flex-1 bg-safe hover:bg-safe/90",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Navigate"]}),n.jsx(Ma,{variant:"outline",size:"sm",onClick:()=>window.open(`https://maps.google.com/?q=${e.lat},${e.lng}`,"_blank"),className:"glass border-white/20",children:n.jsx(xe,{className:"w-4 h-4"})})]})})]})},e.id)),0===r.length&&n.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(ge,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Found"}),n.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or check your spelling."})]})]})]})})}ys.displayName="Input";const bs=[{name:"Amritsar",localities:["Golden Temple","Hall Bazaar","Lawrence Road","Ranjit Avenue","Green Avenue","Batala Road","Ajnala Road","Verka"]},{name:"Ludhiana",localities:["Model Town","Civil Lines","Gill Road","Ferozepur Road","Dugri","Sarabha Nagar","BRS Nagar","Punjabi Bagh"]},{name:"Jalandhar",localities:["Model Town","Civil Lines","Nakodar Road","Phagwara Road","Adampur","Kartarpur","Nawanshahr","Phillaur"]},{name:"Patiala",localities:["Model Town","Civil Lines","Rajpura Road","Sangrur Road","Nabha","Samana","Rajpura","Dudhansadhan"]},{name:"Bathinda",localities:["Model Town","Civil Lines","Mansa Road","Sangrur Road","Rampura","Talwandi Sabo","Maur","Bhucho"]},{name:"Mohali",localities:["Phase 1","Phase 2","Phase 3A","Phase 3B","Phase 4","Phase 5","Phase 6","Phase 7","Phase 8","Phase 9","Phase 10","Kharar","Zirakpur"]},{name:"Firozpur",localities:["Civil Lines","Guru Gobind Singh Nagar","Railway Road","Basti Sheikh","Basti Nau","Makhu","Zira","Moga"]},{name:"Batala",localities:["Civil Lines","Railway Road","Batala Road","Qadian","Dera Baba Nanak","Kalanaur","Dhariwal","Fatehgarh Churian"]},{name:"Moga",localities:["Civil Lines","Railway Road","Baghapurana","Nihal Singh Wala","Dharamkot","Kot Ise Khan","Badhni","Muktsar"]},{name:"Abohar",localities:["Civil Lines","Railway Road","Fazilka","Malout","Gidderbaha","Lambi","Muktsar","Kotkapura"]},{name:"Malerkotla",localities:["Civil Lines","Railway Road","Ahmedgarh","Raikot","Payal","Doraha","Khanna","Samrala"]},{name:"Khanna",localities:["Civil Lines","Railway Road","Samrala","Payal","Doraha","Ahmedgarh","Malerkotla","Raikot"]},{name:"Phagwara",localities:["Civil Lines","Railway Road","Nakodar","Mehatpur","Banga","Nawanshahr","Rahon","Balachaur"]},{name:"Muktsar",localities:["Civil Lines","Railway Road","Malout","Gidderbaha","Lambi","Kotkapura","Faridkot","Jaito"]},{name:"Barnala",localities:["Civil Lines","Railway Road","Tapa","Sehna","Mehal Kalan","Handiaya","Dhanaula","Bhadaur"]},{name:"Rajpura",localities:["Civil Lines","Railway Road","Patiala Road","Chandigarh Road","Dudhansadhan","Samana","Nabha","Patiala"]},{name:"Fatehgarh Sahib",localities:["Civil Lines","Railway Road","Sirhind","Bassi Pathana","Khamano","Mandi Gobindgarh","Amloh","Malaud"]},{name:"Kapurthala",localities:["Civil Lines","Railway Road","Sultanpur Lodhi","Phagwara","Nakodar","Banga","Mehatpur","Rahon"]},{name:"Sangrur",localities:["Civil Lines","Railway Road","Sunam","Lehra","Dirba","Bhawanigarh","Longowal","Ahmedgarh"]},{name:"Faridkot",localities:["Civil Lines","Railway Road","Kotkapura","Jaitu","Jaito","Muktsar","Malout","Gidderbaha"]}];const Ns=new class{constructor(){a(this,"SHEET_ID","1W82kmjNEDbnUPtyc1rjz24CjUn5V1RKZmlF6Ym9B2_A"),a(this,"USERS_SHEET_NAME","Users Info"),a(this,"API_BASE_URL","http://localhost:3001")}async saveUserData(e){try{const t=await fetch(`${this.API_BASE_URL}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e.phone,email:e.email,city:e.city,locality:e.locality,fullAddress:e.fullAddress,timestamp:(new Date).toISOString()})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);await t.json();return!0}catch(t){return!1}}async getUserData(e){try{const t=await fetch(`${this.API_BASE_URL}/api/users/${encodeURIComponent(e)}`);if(!t.ok){if(404===t.status)return null;throw new Error(`HTTP error! status: ${t.status}`)}const a=await t.json();return{phone:a.phone,email:a.email,city:a.city,locality:a.locality,fullAddress:a.fullAddress}}catch(t){return null}}async updateUserData(e,t){try{const a=await fetch(`${this.API_BASE_URL}/api/users/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,timestamp:(new Date).toISOString()})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return!0}catch(a){return!1}}async saveSOSAlert(e,t,a){try{const n=await fetch(`${this.API_BASE_URL}/api/sos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,coordinates:t,accuracy:a,timestamp:(new Date).toISOString()})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);await n.json();return!0}catch(n){return!1}}convertToUserProfile(e){return{id:`user-${e.phone}`,name:"User",email:e.email,phone:e.phone,address:e.fullAddress,emergencyContact:"",medicalInfo:"",lastUpdated:(new Date).toISOString()}}};function js(){var e;const[t,a]=Q.useState(!1),[s,r]=Q.useState(!1),i=is(),o=rs(e=>e.userProfile);return n.jsx(ds,{children:n.jsxs("div",{className:"p-4 space-y-6 min-h-screen flex flex-col",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center pt-8",children:[n.jsx(ue,{className:"w-16 h-16 text-emergency mx-auto mb-4"}),n.jsx("h1",{className:"text-4xl font-bold text-emergency mb-2",children:"EMERGENCY SOS"}),n.jsx("p",{className:"text-muted-foreground",children:"Send immediate distress signal"})]}),i&&n.jsx(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:n.jsx(Ba,{className:"glass border-safe/30",children:n.jsxs(Ua,{className:"flex items-center gap-3 p-4",children:[n.jsx(pe,{className:"w-5 h-5 text-safe"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-safe",children:"Location Acquired"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)]})]}),n.jsxs(_a,{variant:"outline",className:"ml-auto text-safe border-safe/30",children:["±",null==(e=i.accuracy)?void 0:e.toFixed(0),"m"]})]})})}),n.jsx(Je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:300},className:"flex-1 flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ma,{onClick:async()=>{if(i)if(null==o?void 0:o.phone){a(!0);try{const e=[i.lat,i.lng];if(!(await Ns.saveSOSAlert(o.phone,e,i.accuracy)))throw new Error("Failed to save SOS alert to database");await new Promise(e=>setTimeout(e,1e3)),r(!0),lt({title:"🚨 EMERGENCY ALERT SENT",description:`Your distress signal has been sent to emergency services. Location: ${e[0].toFixed(6)}, ${e[1].toFixed(6)}`,action:n.jsx(Ma,{size:"sm",onClick:()=>window.location.href="/contacts?auto=help",children:"Need Help?"})})}catch(e){lt({title:"Alert Failed",description:"Unable to send emergency alert. Please call 911 directly.",variant:"destructive"})}finally{a(!1)}}else lt({title:"Profile Required",description:"Please complete your profile with phone number to send emergency alert.",variant:"destructive"});else lt({title:"Location Required",description:"Please enable location services to send emergency alert.",variant:"destructive"})},disabled:t||!i,className:`\n                w-64 h-64 rounded-full text-2xl font-bold\n                ${s?"bg-safe hover:bg-safe/90 animate-pulse-safe":"pulse-emergency bg-emergency hover:bg-emergency/90"}\n                transition-all duration-300 shadow-2xl\n              `,children:t?n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 animate-spin border-4 border-white border-t-transparent rounded-full"}),n.jsx("span",{className:"text-lg",children:"SENDING..."})]}):s?n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(le,{className:"w-12 h-12"}),n.jsx("span",{className:"text-lg",children:"ALERT SENT"})]}):n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(ue,{className:"w-12 h-12"}),n.jsx("span",{className:"text-lg",children:"SEND SOS"})]})}),!i&&n.jsx("p",{className:"text-warning text-sm mt-4 max-w-md mx-auto",children:"⚠️ Location services required for emergency alerts. Please enable location access in your browser."})]})}),s&&n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsxs(Ba,{className:"glass border-safe/30 bg-safe/5",children:[n.jsx(za,{className:"pb-2",children:n.jsxs(Fa,{className:"text-safe flex items-center gap-2",children:[n.jsx(le,{className:"w-5 h-5"}),"Emergency Alert Active"]})}),n.jsxs(Ua,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ve,{className:"w-4 h-4 text-safe"}),n.jsxs("span",{children:["Sent at ",(new Date).toLocaleTimeString()]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your emergency signal has been broadcast to local authorities. Help is on the way."})]})]})}),n.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-center",children:"Emergency Contacts"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Emergency Services",number:"911",icon:"🚨"},{name:"Fire Department",number:"911",icon:"🚒"},{name:"Police",number:"911",icon:"👮‍♂️"},{name:"Medical Emergency",number:"911",icon:"🚑"}].map((e,t)=>n.jsx(Je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+.1*t},children:n.jsxs(Ma,{onClick:()=>window.open(`tel:${e.number}`,"_self"),variant:"outline",className:"w-full h-16 glass border-white/20 flex-col gap-1",children:[n.jsx("span",{className:"text-lg",children:e.icon}),n.jsx("span",{className:"text-xs font-medium",children:e.name})]})},e.name))})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"pb-4",children:n.jsxs(Ma,{onClick:()=>{window.open("tel:911","_self")},size:"lg",className:"w-full bg-emergency hover:bg-emergency/90 text-xl font-bold py-4",children:[n.jsx(ce,{className:"w-6 h-6 mr-3"}),"CALL 911 NOW"]})})]})})}var Ss=Q.forwardRef((e,t)=>n.jsx(h.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Ss.displayName="Label";var Es=Ss;const Cs=re("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ks=Q.forwardRef(({className:e,...t},a)=>n.jsx(Es,{ref:a,className:ct(Cs(),e),...t}));ks.displayName=Es.displayName;const Rs=Q.forwardRef(({className:e,...t},a)=>n.jsx("textarea",{className:ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));Rs.displayName="Textarea";const Ts=q,Ps=Y,As=Q.forwardRef(({className:e,children:t,...a},s)=>n.jsxs(I,{ref:s,className:ct("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,n.jsx(D,{asChild:!0,children:n.jsx(ye,{className:"h-4 w-4 opacity-50"})})]}));As.displayName=I.displayName;const Is=Q.forwardRef(({className:e,...t},a)=>n.jsx(L,{ref:a,className:ct("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(we,{className:"h-4 w-4"})}));Is.displayName=L.displayName;const Ds=Q.forwardRef(({className:e,...t},a)=>n.jsx(O,{ref:a,className:ct("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ye,{className:"h-4 w-4"})}));Ds.displayName=O.displayName;const Ls=Q.forwardRef(({className:e,children:t,position:a="popper",...s},r)=>n.jsx(M,{children:n.jsxs($,{ref:r,className:ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[n.jsx(Is,{}),n.jsx(_,{className:ct("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Ds,{})]})}));Ls.displayName=$.displayName;Q.forwardRef(({className:e,...t},a)=>n.jsx(B,{ref:a,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=B.displayName;const Os=Q.forwardRef(({className:e,children:t,...a},s)=>n.jsxs(z,{ref:s,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(F,{children:n.jsx(be,{className:"h-4 w-4"})})}),n.jsx(U,{children:t})]}));Os.displayName=z.displayName;Q.forwardRef(({className:e,...t},a)=>n.jsx(H,{ref:a,className:ct("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=H.displayName;const Ms=P,$s=C,_s=A,Bs=Q.forwardRef(({className:e,...t},a)=>n.jsx(S,{ref:a,className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bs.displayName=S.displayName;const zs=Q.forwardRef(({className:e,children:t,...a},s)=>n.jsxs(_s,{children:[n.jsx(Bs,{}),n.jsxs(E,{ref:s,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,n.jsxs(k,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(ie,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zs.displayName=E.displayName;const Fs=({className:e,...t})=>n.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fs.displayName="DialogHeader";const Us=Q.forwardRef(({className:e,...t},a)=>n.jsx(R,{ref:a,className:ct("text-lg font-semibold leading-none tracking-tight",e),...t}));Us.displayName=R.displayName;Q.forwardRef(({className:e,...t},a)=>n.jsx(T,{ref:a,className:ct("text-sm text-muted-foreground",e),...t})).displayName=T.displayName;const Hs=[{value:"ambulance",label:"🚑 Ambulance",color:"text-emergency"},{value:"fire",label:"🚒 Fire Department",color:"text-warning"},{value:"rescue",label:"🛟 Search & Rescue",color:"text-info"},{value:"police",label:"👮‍♂️ Police",color:"text-info"},{value:"medical",label:"🏥 Medical Emergency",color:"text-emergency"}];function qs(){const[e,t]=Q.useState(!1),[a,s]=Q.useState({type:"",message:"",location:""}),[r,i]=Q.useState(!1),o=rs(e=>e.emergencyContacts);Q.useEffect(()=>{"help"===new URLSearchParams(window.location.search).get("auto")&&t(!0)},[]);const l=e=>{switch(e){case"emergency":return"text-emergency";case"medical":return"text-info";case"authority":return"text-warning";case"family":return"text-safe";default:return"text-foreground"}};return n.jsx(ds,{children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center pt-4",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Emergency Contacts"}),n.jsx("p",{className:"text-muted-foreground",children:"Quick access to help when you need it most"})]}),n.jsx(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:n.jsxs(Ms,{open:e,onOpenChange:t,children:[n.jsx($s,{asChild:!0,children:n.jsxs(Ma,{className:"w-full bg-emergency hover:bg-emergency/90 text-lg py-6",children:[n.jsx(ue,{className:"w-6 h-6 mr-3"}),"REQUEST IMMEDIATE HELP"]})}),n.jsxs(zs,{className:"glass border-white/20 max-w-md",children:[n.jsx(Fs,{children:n.jsxs(Us,{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"w-5 h-5 text-emergency"}),"Emergency Help Request"]})}),n.jsxs("div",{className:"space-y-4 pt-4",children:[n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"emergency-type",children:"Emergency Type"}),n.jsxs(Ts,{value:a.type,onValueChange:e=>s(t=>({...t,type:e})),children:[n.jsx(As,{className:"glass border-white/20",children:n.jsx(Ps,{placeholder:"Select emergency type..."})}),n.jsx(Ls,{className:"glass border-white/20",children:Hs.map(e=>n.jsx(Os,{value:e.value,children:n.jsx("span",{className:e.color,children:e.label})},e.value))})]})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"emergency-message",children:"Describe the situation"}),n.jsx(Rs,{id:"emergency-message",placeholder:"Briefly describe what type of help you need...",value:a.message,onChange:e=>s(t=>({...t,message:e.target.value})),className:"glass border-white/20 min-h-20"})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"location",children:"Location (optional)"}),n.jsx(ys,{id:"location",placeholder:"Specify location if different from current...",value:a.location,onChange:e=>s(t=>({...t,location:e.target.value})),className:"glass border-white/20"})]}),n.jsx(Ma,{onClick:async()=>{var e;if(a.type&&a.message){i(!0);try{a.type,a.message,a.location,(new Date).toISOString();await new Promise(e=>setTimeout(e,2e3)),lt({title:"🚨 Help Request Sent",description:`Your ${null==(e=Hs.find(e=>e.value===a.type))?void 0:e.label} request has been dispatched.`}),t(!1),s({type:"",message:"",location:""})}catch(n){lt({title:"Request Failed",description:"Unable to send help request. Please call emergency services directly.",variant:"destructive"})}finally{i(!1)}}else lt({title:"Form Incomplete",description:"Please select an emergency type and provide details.",variant:"destructive"})},disabled:r,className:"w-full bg-emergency hover:bg-emergency/90",children:r?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-white border-t-transparent rounded-full"}),"Sending Request..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ue,{className:"w-4 h-4 mr-2"}),"Send Help Request"]})})]})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Quick Dial"}),n.jsx("div",{className:"grid gap-4",children:o.map((e,t)=>{const a=(e=>{switch(e){case"emergency":return ue;case"medical":return Ee;case"authority":return le;case"family":return Se;default:return ce}})(e.type);return n.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*(t+2)},children:n.jsx(Ba,{className:"glass border-white/20",children:n.jsx(Ua,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:e.icon?n.jsx("span",{className:"text-xl",children:e.icon}):n.jsx(a,{className:`w-6 h-6 ${l(e.type)}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone}),n.jsx(_a,{variant:"outline",className:`text-xs mt-1 ${l(e.type)}`,children:e.type})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ma,{size:"sm",onClick:()=>{return t=e.phone,a=e.name,window.open(`tel:${t}`,"_self"),void lt({title:"📞 Calling...",description:`Dialing ${a} at ${t}`});var t,a},className:"bg-safe hover:bg-safe/90",children:n.jsx(ce,{className:"w-4 h-4"})}),n.jsx(Ma,{size:"sm",variant:"outline",onClick:()=>{return t=e.phone,a=e.name,window.open(`sms:${t}?body=${encodeURIComponent("I need emergency assistance. This is an urgent situation.")}`,"_self"),void lt({title:"💬 Opening SMS",description:`Sending emergency message to ${a}`});var t,a},className:"glass border-white/20",children:n.jsx(Ne,{className:"w-4 h-4"})})]})]})})})},e.id)})})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:n.jsxs(Ma,{variant:"outline",className:"w-full glass border-white/20",onClick:()=>lt({title:"Feature Coming Soon",description:"Custom contact management will be available in the next update."}),children:[n.jsx(je,{className:"w-4 h-4 mr-2"}),"Add Emergency Contact"]})})]})})}function Ys(){const[e,t]=Q.useState([{id:"1",content:"Hello! I'm your AI emergency assistant. I'm here to help you with disaster preparedness, safety guidance, and emergency procedures. How can I assist you today?",role:"assistant",timestamp:new Date}]),[a,s]=Q.useState(""),[r,i]=Q.useState(!1),[o,l]=Q.useState(!1),c=async()=>{if(!a.trim())return;const e={id:Date.now().toString(),content:a,role:"user",timestamp:new Date};t(t=>[...t,e]),s(""),i(!0);try{await new Promise(e=>setTimeout(e,2e3));const e={id:(Date.now()+1).toString(),content:d(a),role:"assistant",timestamp:new Date};t(t=>[...t,e])}catch(n){lt({title:"AI Error",description:"Unable to get AI response. Please try again.",variant:"destructive"})}finally{i(!1)}},d=e=>{const t=e.toLowerCase();return t.includes("earthquake")?"In case of an earthquake: DROP to your hands and knees, take COVER under a desk or table, and HOLD ON until shaking stops. If outdoors, move away from buildings. Stay calm and follow evacuation procedures if necessary.":t.includes("flood")?"For flood safety: Move to higher ground immediately. Never drive through flooded roads. If trapped, call for help and wait for rescue. Keep emergency supplies ready and monitor weather alerts.":t.includes("fire")?"Fire emergency protocol: Call 911 immediately. If possible, use nearest exit and stay low to avoid smoke. Feel doors before opening. If clothes catch fire: Stop, Drop, and Roll. Meet at your designated meeting point.":t.includes("shelter")||t.includes("safe")?"Safe shelter locations include reinforced buildings, emergency shelters, and evacuation centers. Avoid windows, use interior rooms on lower floors. Keep emergency kit with water, food, and medical supplies.":"I'm here to help with emergency preparedness and safety guidance. Ask me about earthquake safety, flood procedures, fire evacuation, shelter locations, or any other disaster-related concerns."};return n.jsx(ds,{children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh-11rem)]",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-4 text-center border-b border-white/10 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(de,{className:"w-8 h-8 text-accent"}),n.jsx("h1",{className:"text-2xl font-bold",children:"AI Emergency Assistant"})]}),n.jsx(_a,{variant:"outline",className:"text-accent border-accent/30",children:"Powered by Gemini AI"})]}),n.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto pb-4",children:[e.map((e,t)=>n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"flex "+("user"===e.role?"justify-end":"justify-start"),children:n.jsx(Ba,{className:"max-w-[80%] "+("user"===e.role?"bg-primary/20 border-primary/30":"glass border-white/20"),children:n.jsx(Ua,{className:"p-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:["assistant"===e.role&&n.jsx(de,{className:"w-5 h-5 text-accent mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm leading-relaxed",children:e.content}),n.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:e.timestamp.toLocaleTimeString()})]})]})})})},e.id)),r&&n.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:n.jsx(Ba,{className:"glass border-white/20",children:n.jsx(Ua,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(de,{className:"w-5 h-5 text-accent"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce delay-200"})]})]})})})})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"px-4 pb-2 flex-shrink-0",children:n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["What should I do in an earthquake?","How to prepare for a flood?","Fire safety procedures","Find nearest shelter","Emergency kit checklist"].map((e,t)=>n.jsx(Ma,{variant:"outline",size:"sm",onClick:()=>s(e),className:"glass border-white/20 whitespace-nowrap text-xs",children:e},t))})}),n.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 border-t border-white/10 bg-background/50 backdrop-blur-sm flex-shrink-0",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ys,{placeholder:"Ask about emergency procedures, safety tips...",value:a,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&c(),className:"glass border-white/20 pr-12"}),n.jsx(Ma,{size:"sm",variant:"ghost",onClick:()=>{"webkitSpeechRecognition"in window||"SpeechRecognition"in window?(l(!0),setTimeout(()=>{s("What should I do in an earthquake?"),l(!1),lt({title:"Voice Input Complete",description:"Message transcribed successfully!"})},2e3)):lt({title:"Voice Not Supported",description:"Speech recognition is not available in this browser.",variant:"destructive"})},disabled:o,className:"absolute right-1 top-1 h-8 w-8 p-0",children:o?n.jsx(Ce,{className:"w-4 h-4 text-emergency animate-pulse"}):n.jsx(ke,{className:"w-4 h-4"})})]}),n.jsx(Ma,{onClick:c,disabled:!a.trim()||r,className:"bg-accent hover:bg-accent/90",children:n.jsx(Re,{className:"w-4 h-4"})})]}),o&&n.jsx(Je.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-emergency text-center mt-2",children:"🎤 Listening... Speak your emergency question"})]})]})})}const Vs=[{id:"1",title:"Flash Flood Warning",message:"Heavy rainfall expected in your area. Avoid low-lying areas and be prepared for flash flooding.",severity:"critical",timestamp:new Date(Date.now()-18e5).toISOString(),read:!1,location:[40.7589,-73.9851]},{id:"2",title:"Evacuation Route Update",message:"Highway 95 is now reopened. Use this route for evacuation if needed.",severity:"info",timestamp:new Date(Date.now()-72e5).toISOString(),read:!1,location:[40.7489,-73.9851]},{id:"3",title:"Severe Weather Alert",message:"Strong winds and heavy rain expected between 2-6 PM. Secure loose outdoor items.",severity:"warning",timestamp:new Date(Date.now()-144e5).toISOString(),read:!0,location:[40.7389,-73.9751]},{id:"4",title:"Emergency Shelter Available",message:"Central Park Community Center is now open as an emergency shelter with capacity for 200 people.",severity:"info",timestamp:new Date(Date.now()-216e5).toISOString(),read:!0,location:[40.7829,-73.9654]},{id:"5",title:"System Test",message:"This is a test of the emergency notification system. No action required.",severity:"info",timestamp:new Date(Date.now()-864e5).toISOString(),read:!0}];function Ws(){const{notifications:e,markNotificationRead:t}=rs(),[a,s]=Q.useState([...Vs,...e]);Q.useEffect(()=>{s([...Vs,...e])},[e]),Q.useEffect(()=>{a.filter(e=>!e.read).map(e=>e.id).forEach(e=>t(e))},[a,t]);const r=e=>{switch(e){case"critical":return"text-emergency border-emergency/30 bg-emergency/10";case"warning":return"text-warning border-warning/30 bg-warning/10";case"info":return"text-info border-info/30 bg-info/10";default:return"text-foreground border-border"}},i=e=>{switch(e){case"critical":return"destructive";case"warning":return"secondary";default:return"outline"}},o=e=>{const t=new Date,a=new Date(e),n=Math.floor((t.getTime()-a.getTime())/6e4);return n<60?`${n}m ago`:n<1440?`${Math.floor(n/60)}h ago`:`${Math.floor(n/1440)}d ago`};return n.jsx(ds,{children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center pt-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(fe,{className:"w-8 h-8 text-foreground"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Emergency alerts and system updates"})]}),n.jsx("div",{className:"space-y-4",children:a.map((e,a)=>{const l=(e=>{switch(e){case"critical":case"warning":return ue;case"info":return Te;default:return fe}})(e.severity);return n.jsx(Je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},children:n.jsxs(Ba,{className:"glass border-white/20 relative overflow-hidden "+(e.read?"":"ring-2 ring-primary/30 bg-white/8"),children:[n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 "+("critical"===e.severity?"bg-emergency":"warning"===e.severity?"bg-warning":"bg-info")}),n.jsx(za,{className:"pb-3 pl-6",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx("div",{className:`p-2 rounded-lg ${r(e.severity)}`,children:n.jsx(l,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(Fa,{className:"text-lg flex items-center gap-2",children:[e.title,!e.read&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(_a,{variant:i(e.severity),className:"text-xs",children:e.severity.toUpperCase()}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(ve,{className:"w-3 h-3"}),o(e.timestamp)]})]})]})]})})}),n.jsxs(Ua,{className:"pl-6 space-y-3",children:[n.jsx("p",{className:"text-foreground leading-relaxed",children:e.message}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("div",{className:"flex gap-2",children:e.location&&n.jsxs(Ma,{size:"sm",variant:"outline",onClick:()=>(e=>{const t=`/?lat=${e[0]}&lng=${e[1]}&zoom=15`;window.history.pushState({},"",t),lt({title:"📍 Location Highlighted",description:"Redirecting to map view..."})})(e.location),className:"glass border-white/20 text-xs",children:[n.jsx(pe,{className:"w-3 h-3 mr-1"}),"View Location"]})}),!e.read&&n.jsx(Ma,{size:"sm",variant:"ghost",onClick:()=>{return a=e.id,s(e=>e.map(e=>e.id===a?{...e,read:!0}:e)),void t(a);var a},className:"text-xs text-muted-foreground hover:text-foreground",children:"Mark as Read"})]})]})]})},e.id)})}),0===a.length&&n.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[n.jsx(fe,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Notifications"}),n.jsx("p",{className:"text-muted-foreground",children:"You'll receive emergency alerts and system updates here."})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center pt-8",children:n.jsx(Ba,{className:"glass border-white/10 bg-white/5",children:n.jsxs(Ua,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(fe,{className:"w-4 h-4 text-info"}),n.jsx("span",{className:"text-sm font-medium",children:"Notification Settings"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical alerts are always shown. Manage notification preferences in your device settings."})]})})})]})})}const Ks=new class{constructor(){a(this,"STORAGE_KEY","userProfile"),a(this,"API_BASE_URL","http://localhost:3000/api")}async loadProfile(){try{const a=localStorage.getItem(this.STORAGE_KEY);if(a)try{return JSON.parse(a)}catch(e){localStorage.removeItem(this.STORAGE_KEY)}try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3),a=await fetch(`${this.API_BASE_URL}/profile`,{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(clearTimeout(t),a.ok){const e=await a.json();return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),e}}catch(t){t.name}return null}catch(a){return null}}async saveProfile(e){try{const a={...e,lastUpdated:(new Date).toISOString()};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a));try{const e=await fetch(`${this.API_BASE_URL}/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){const t=await e.json();return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),t}}catch(t){}return a}catch(a){throw new Error("Failed to save profile")}}createDefaultProfile(){return{id:"1",name:"John Doe",email:"john.doe@example.com",phone:"+1 (555) 123-4567",address:"123 Main St, City, State 12345",emergencyContact:"+1 (555) 987-6543",medicalInfo:"No known allergies. Blood type: O+",lastUpdated:(new Date).toISOString()}}validateProfile(e){var t,a,n,s;const r={};return(null==(t=e.name)?void 0:t.trim())||(r.name="Name is required"),(null==(a=e.email)?void 0:a.trim())?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="Please enter a valid email address"):r.email="Email is required",(null==(n=e.phone)?void 0:n.trim())?/^[\+]?[1-9][\d]{0,15}$/.test(e.phone.replace(/[\s\-\(\)]/g,""))||(r.phone="Please enter a valid phone number"):r.phone="Phone number is required",(null==(s=e.address)?void 0:s.trim())||(r.address="Address is required"),{isValid:0===Object.keys(r).length,errors:r}}clearProfile(){localStorage.removeItem(this.STORAGE_KEY)}hasProfile(){return null!==localStorage.getItem(this.STORAGE_KEY)}};const Gs=new class{constructor(){a(this,"API_BASE_URL","http://localhost:3001"),a(this,"checkInterval",null),a(this,"lastAlertStatus","green"),a(this,"userPhone",null)}startMonitoring(e){this.userPhone=e,this.lastAlertStatus="green",this.checkAlerts(),this.checkInterval=setInterval(()=>{this.checkAlerts()},3e4)}stopMonitoring(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.userPhone=null}async checkAlerts(){if(this.userPhone)try{const e=await fetch(`${this.API_BASE_URL}/api/users/${encodeURIComponent(this.userPhone)}/alerts`);if(!e.ok)return;const t=await e.json();"green"===this.lastAlertStatus&&"red"===t.alertStatus&&this.handleRedAlert(t),this.lastAlertStatus=t.alertStatus}catch(e){}}handleRedAlert(e){lt({title:"🚨 DANGER ALERT",description:"Emergency situation detected in your area! Please check notifications for details.",variant:"destructive",duration:1e4});const{addNotification:t}=rs.getState();t({title:"🚨 Emergency Alert",message:"Danger has been detected in your area. Please stay alert and follow emergency procedures.",severity:"critical",timestamp:e.timestamp,read:!1}),this.showBrowserNotification()}showBrowserNotification(){"Notification"in window&&"granted"===Notification.permission?new Notification("🚨 Emergency Alert",{body:"Danger detected in your area! Check the app for details.",icon:"/favicon.ico",tag:"emergency-alert",requireInteraction:!0}):"Notification"in window&&"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e&&this.showBrowserNotification()})}async updateAlertStatus(e,t){try{const a=await fetch(`${this.API_BASE_URL}/api/users/${encodeURIComponent(e)}/alerts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({alertStatus:t})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);await a.json();return!0}catch(a){return!1}}async getAlertStatus(e){try{const t=await fetch(`${this.API_BASE_URL}/api/users/${encodeURIComponent(e)}/alerts`);if(!t.ok){if(404===t.status)return null;throw new Error(`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){return null}}};function Zs(){const[e,t]=Q.useState(""),[a,s]=Q.useState(!1),{userProfile:r}=rs(),i=async t=>{if(e.trim()){s(!0);try{await Gs.updateAlertStatus(e,t)?alert(`Alert status updated to ${t} for ${e}`):alert("Failed to update alert status")}catch(a){alert("Error updating alert status")}finally{s(!1)}}else alert("Please enter a phone number")},o=async e=>{if(null==r?void 0:r.phone){s(!0);try{await Gs.updateAlertStatus(r.phone,e)?alert(`Alert status updated to ${e} for current user (${r.phone})`):alert("Failed to update alert status")}catch(t){alert("Error updating alert status")}finally{s(!1)}}else alert("No user profile found. Please complete onboarding first.")};return n.jsxs(Ba,{className:"glass border-white/20",children:[n.jsx(za,{children:n.jsxs(Fa,{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"w-5 h-5 text-warning"}),"Alert Testing Panel"]})}),n.jsxs(Ua,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"phone",children:"Phone Number"}),n.jsx(ys,{id:"phone",value:e,onChange:e=>t(e.target.value),placeholder:"Enter phone number to test",className:"glass border-white/20 mt-1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium",children:"Test Alert Status"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ma,{onClick:()=>i("red"),disabled:a,variant:"destructive",size:"sm",className:"flex items-center gap-1",children:[n.jsx(Pe,{className:"w-4 h-4"}),"Set Red Alert"]}),n.jsxs(Ma,{onClick:()=>i("green"),disabled:a,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),"Set Green Alert"]})]})]}),(null==r?void 0:r.phone)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium",children:["Test Current User (",r.phone,")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ma,{onClick:()=>o("red"),disabled:a,variant:"destructive",size:"sm",className:"flex items-center gap-1",children:[n.jsx(Pe,{className:"w-4 h-4"}),"Set Red Alert"]}),n.jsxs(Ma,{onClick:()=>o("green"),disabled:a,variant:"outline",size:"sm",className:"flex items-center gap-1",children:[n.jsx(Ae,{className:"w-4 h-4"}),"Set Green Alert"]})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsx("p",{children:"• Red alerts will trigger toast notifications and danger visualization"}),n.jsx("p",{children:"• Green alerts will clear all danger indicators"}),n.jsx("p",{children:"• Alert monitoring checks every 30 seconds"})]})]})]})}function Js(){const e=We(),[t,a]=Q.useState({id:"1",name:"",email:"",phone:"",address:"",emergencyContact:"",medicalInfo:"",lastUpdated:(new Date).toISOString()}),[s,r]=Q.useState(!0),[i,o]=Q.useState(!1),[l,c]=Q.useState({}),[d,u]=Q.useState(null);Q.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0),u(null);const e=await Ks.loadProfile();if(e)a(e);else{const e=Ks.createDefaultProfile();a(e)}}catch(e){u("Failed to load profile data");const t=Ks.createDefaultProfile();a(t),lt({title:"Profile Loaded",description:"Using default profile. You can update your information below."})}finally{r(!1)}},f=(e,t)=>{a(a=>({...a,[e]:t})),l[e]&&c(t=>({...t,[e]:""}))};return s?n.jsx(ds,{children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs(Ba,{className:"glass p-6",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-foreground",children:"Loading profile..."})]})})}):n.jsx(ds,{children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(Je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center pt-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(me,{className:"w-8 h-8 text-accent"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your profile and preferences"}),d&&n.jsx(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-destructive text-sm",children:[n.jsx(Ie,{className:"w-4 h-4"}),n.jsx("span",{children:d}),n.jsxs(Ma,{size:"sm",variant:"outline",onClick:m,className:"ml-2 h-6 px-2 text-xs border-destructive/30 text-destructive hover:bg-destructive/10",children:[n.jsx(De,{className:"w-3 h-3 mr-1"}),"Retry"]})]})})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(Ba,{className:"glass border-white/20",children:[n.jsx(za,{children:n.jsxs(Fa,{className:"flex items-center gap-2",children:[n.jsx(Se,{className:"w-5 h-5 text-accent"}),"Profile Information"]})}),n.jsxs(Ua,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(ys,{id:"name",value:t.name,onChange:e=>f("name",e.target.value),className:"glass border-white/20 mt-1 "+(l.name?"border-destructive":""),placeholder:"Enter your full name"}),l.name&&n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-destructive text-xs",children:[n.jsx(Ie,{className:"w-3 h-3"}),l.name]})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),n.jsx(ys,{id:"email",type:"email",value:t.email,onChange:e=>f("email",e.target.value),className:"glass border-white/20 mt-1 "+(l.email?"border-destructive":""),placeholder:"Enter your email address"}),l.email&&n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-destructive text-xs",children:[n.jsx(Ie,{className:"w-3 h-3"}),l.email]})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number *"}),n.jsx(ys,{id:"phone",type:"tel",value:t.phone,onChange:e=>f("phone",e.target.value),className:"glass border-white/20 mt-1 "+(l.phone?"border-destructive":""),placeholder:"Enter your phone number"}),l.phone&&n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-destructive text-xs",children:[n.jsx(Ie,{className:"w-3 h-3"}),l.phone]})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"address",className:"text-sm font-medium",children:"Address *"}),n.jsx(Rs,{id:"address",value:t.address,onChange:e=>f("address",e.target.value),className:"glass border-white/20 mt-1 min-h-20 "+(l.address?"border-destructive":""),placeholder:"Enter your full address"}),l.address&&n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-destructive text-xs",children:[n.jsx(Ie,{className:"w-3 h-3"}),l.address]})]})]})]})}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsxs(Ba,{className:"glass border-white/20",children:[n.jsx(za,{children:n.jsxs(Fa,{className:"flex items-center gap-2",children:[n.jsx(ce,{className:"w-5 h-5 text-emergency"}),"Emergency Information"]})}),n.jsxs(Ua,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"emergencyContact",className:"text-sm font-medium",children:"Emergency Contact"}),n.jsx(ys,{id:"emergencyContact",type:"tel",value:t.emergencyContact,onChange:e=>f("emergencyContact",e.target.value),className:"glass border-white/20 mt-1",placeholder:"Enter emergency contact number"})]}),n.jsxs("div",{children:[n.jsx(ks,{htmlFor:"medicalInfo",className:"text-sm font-medium",children:"Medical Information"}),n.jsx(Rs,{id:"medicalInfo",value:t.medicalInfo,onChange:e=>f("medicalInfo",e.target.value),className:"glass border-white/20 mt-1 min-h-20",placeholder:"Enter medical information, allergies, blood type, etc."})]})]})]})}),n.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col gap-4 items-center",children:[n.jsx(Ma,{onClick:async()=>{if((()=>{const e=Ks.validateProfile(t);return c(e.errors),e.isValid})())try{o(!0);const e=await Ks.saveProfile(t);if(a(e),t.phone){await Ns.updateUserData(t.phone,{phone:t.phone,email:t.email,fullAddress:t.address})}lt({title:"Profile Updated",description:"Your profile has been saved successfully."})}catch(e){lt({title:"Save Failed",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{o(!1)}else lt({title:"Validation Error",description:"Please fix the errors before saving.",variant:"destructive"})},disabled:i,className:"bg-accent hover:bg-accent/90 px-8 py-3 text-lg",children:i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Le,{className:"w-5 h-5"}),"Save Changes"]})}),n.jsx(Ma,{onClick:()=>{localStorage.clear(),a({id:"1",name:"",email:"",phone:"",address:"",emergencyContact:"",medicalInfo:"",lastUpdated:(new Date).toISOString()}),lt({title:"Logged Out",description:"You have been logged out successfully. You can now simulate with a different user."}),e("/onboarding")},variant:"outline",className:"border-destructive/30 text-destructive hover:bg-destructive/10 px-6 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oe,{className:"w-4 h-4"}),"Logout & Switch User"]})})]}),n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsx(Zs,{})}),n.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(t.lastUpdated).toLocaleString()]})})]})})}var Xs=.999,Qs=/[\\\/_+.#"@\[\(\{&]/,er=/[\\\/_+.#"@\[\(\{&]/g,tr=/[\s-]/,ar=/[\s-]/g;function nr(e,t,a,n,s,r,i){if(r===t.length)return s===e.length?1:.99;var o=`${s},${r}`;if(void 0!==i[o])return i[o];for(var l,c,d,u,m=n.charAt(r),f=a.indexOf(m,s),p=0;f>=0;)(l=nr(e,t,a,n,f+1,r+1,i))>p&&(f===s?l*=1:Qs.test(e.charAt(f-1))?(l*=.8,(d=e.slice(s,f-1).match(er))&&s>0&&(l*=Math.pow(Xs,d.length))):tr.test(e.charAt(f-1))?(l*=.9,(u=e.slice(s,f-1).match(ar))&&s>0&&(l*=Math.pow(Xs,u.length))):(l*=.17,s>0&&(l*=Math.pow(Xs,f-s))),e.charAt(f)!==t.charAt(r)&&(l*=.9999)),(l<.1&&a.charAt(f-1)===n.charAt(r+1)||n.charAt(r+1)===n.charAt(r)&&a.charAt(f-1)!==n.charAt(r))&&(.1*(c=nr(e,t,a,n,f+1,r+2,i))>l&&(l=.1*c)),l>p&&(p=l),f=a.indexOf(m,f+1);return i[o]=p,p}function sr(e){return e.toLowerCase().replace(ar," ")}function rr(e,t,a){return nr(e=a&&a.length>0?""+(e+" "+a.join(" ")):e,t,sr(e),sr(t),0,0,{})}var ir='[cmdk-group=""]',or='[cmdk-group-items=""]',lr='[cmdk-item=""]',cr=`${lr}:not([aria-disabled="true"])`,dr="cmdk-item-select",ur="data-value",mr=(e,t,a)=>rr(e,t,a),fr=Q.createContext(void 0),pr=()=>Q.useContext(fr),hr=Q.createContext(void 0),gr=()=>Q.useContext(hr),xr=Q.createContext(void 0),vr=Q.forwardRef((e,t)=>{let a=Ir(()=>{var t,a;return{search:"",value:null!=(a=null!=(t=e.value)?t:e.defaultValue)?a:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Ir(()=>new Set),s=Ir(()=>new Map),r=Ir(()=>new Map),i=Ir(()=>new Set),o=Pr(e),{label:l,children:c,value:d,onValueChange:u,filter:m,shouldFilter:f,loop:p,disablePointerSelection:g=!1,vimBindings:x=!0,...v}=e,y=V(),w=V(),b=V(),N=Q.useRef(null),j=Or();Ar(()=>{if(void 0!==d){let e=d.trim();a.current.value=e,S.emit()}},[d]),Ar(()=>{j(6,P)},[]);let S=Q.useMemo(()=>({subscribe:e=>(i.current.add(e),()=>i.current.delete(e)),snapshot:()=>a.current,setState:(e,t,n)=>{var s,r,i,l;if(!Object.is(a.current[e],t)){if(a.current[e]=t,"search"===e)T(),k(),j(1,R);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(b);e?e.focus():null==(s=document.getElementById(y))||s.focus()}if(j(7,()=>{var e;a.current.selectedItemId=null==(e=A())?void 0:e.id,S.emit()}),n||j(5,P),void 0!==(null==(r=o.current)?void 0:r.value)){let e=null!=t?t:"";return void(null==(l=(i=o.current).onValueChange)||l.call(i,e))}}S.emit()}},emit:()=>{i.current.forEach(e=>e())}}),[]),E=Q.useMemo(()=>({value:(e,t,n)=>{var s;t!==(null==(s=r.current.get(e))?void 0:s.value)&&(r.current.set(e,{value:t,keywords:n}),a.current.filtered.items.set(e,C(t,n)),j(2,()=>{k(),S.emit()}))},item:(e,t)=>(n.current.add(e),t&&(s.current.has(t)?s.current.get(t).add(e):s.current.set(t,new Set([e]))),j(3,()=>{T(),k(),a.current.value||R(),S.emit()}),()=>{r.current.delete(e),n.current.delete(e),a.current.filtered.items.delete(e);let t=A();j(4,()=>{T(),(null==t?void 0:t.getAttribute("id"))===e&&R(),S.emit()})}),group:e=>(s.current.has(e)||s.current.set(e,new Set),()=>{r.current.delete(e),s.current.delete(e)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function C(e,t){var n,s;let r=null!=(s=null==(n=o.current)?void 0:n.filter)?s:mr;return e?r(e,a.current.search,t):0}function k(){if(!a.current.search||!1===o.current.shouldFilter)return;let e=a.current.filtered.items,t=[];a.current.filtered.groups.forEach(a=>{let n=s.current.get(a),r=0;n.forEach(t=>{let a=e.get(t);r=Math.max(a,r)}),t.push([a,r])});let n=N.current;I().sort((t,a)=>{var n,s;let r=t.getAttribute("id"),i=a.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(s=e.get(r))?s:0)}).forEach(e=>{let t=e.closest(or);t?t.appendChild(e.parentElement===t?e:e.closest(`${or} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${or} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let a=null==(t=N.current)?void 0:t.querySelector(`${ir}[${ur}="${encodeURIComponent(e[0])}"]`);null==a||a.parentElement.appendChild(a)})}function R(){let e=I().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(ur);S.setState("value",t||void 0)}function T(){var e,t,i,l;if(!a.current.search||!1===o.current.shouldFilter)return void(a.current.filtered.count=n.current.size);a.current.filtered.groups=new Set;let c=0;for(let s of n.current){let n=C(null!=(t=null==(e=r.current.get(s))?void 0:e.value)?t:"",null!=(l=null==(i=r.current.get(s))?void 0:i.keywords)?l:[]);a.current.filtered.items.set(s,n),n>0&&c++}for(let[n,r]of s.current)for(let e of r)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(n);break}a.current.filtered.count=c}function P(){var e,t,a;let n=A();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(a=null==(t=n.closest(ir))?void 0:t.querySelector('[cmdk-group-heading=""]'))||a.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function A(){var e;return null==(e=N.current)?void 0:e.querySelector(`${lr}[aria-selected="true"]`)}function I(){var e;return Array.from((null==(e=N.current)?void 0:e.querySelectorAll(cr))||[])}function D(e){let t=I()[e];t&&S.setState("value",t.getAttribute(ur))}function L(e){var t;let a=A(),n=I(),s=n.findIndex(e=>e===a),r=n[s+e];null!=(t=o.current)&&t.loop&&(r=s+e<0?n[n.length-1]:s+e===n.length?n[0]:n[s+e]),r&&S.setState("value",r.getAttribute(ur))}function O(e){let t,a=A(),n=null==a?void 0:a.closest(ir);for(;n&&!t;)n=e>0?Rr(n,ir):Tr(n,ir),t=null==n?void 0:n.querySelector(cr);t?S.setState("value",t.getAttribute(ur)):L(e)}let M=()=>D(I().length-1),$=e=>{e.preventDefault(),e.metaKey?M():e.altKey?O(1):L(1)},_=e=>{e.preventDefault(),e.metaKey?D(0):e.altKey?O(-1):L(-1)};return Q.createElement(h.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=v.onKeyDown)||t.call(v,e);let a=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!a)switch(e.key){case"n":case"j":x&&e.ctrlKey&&$(e);break;case"ArrowDown":$(e);break;case"p":case"k":x&&e.ctrlKey&&_(e);break;case"ArrowUp":_(e);break;case"Home":e.preventDefault(),D(0);break;case"End":e.preventDefault(),M();break;case"Enter":{e.preventDefault();let t=A();if(t){let e=new Event(dr);t.dispatchEvent(e)}}}}},Q.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:$r},l),Mr(e,e=>Q.createElement(hr.Provider,{value:S},Q.createElement(fr.Provider,{value:E},e))))}),yr=Q.forwardRef((e,t)=>{var a,n;let s=V(),r=Q.useRef(null),i=Q.useContext(xr),o=pr(),l=Pr(e),c=null!=(n=null==(a=l.current)?void 0:a.forceMount)?n:null==i?void 0:i.forceMount;Ar(()=>{if(!c)return o.item(s,null==i?void 0:i.id)},[c]);let d=Lr(s,r,[e.value,e.children,r],e.keywords),u=gr(),m=Dr(e=>e.value&&e.value===d.current),f=Dr(e=>!(!c&&!1!==o.filter())||(!e.search||e.filtered.items.get(s)>0));function p(){var e,t;g(),null==(t=(e=l.current).onSelect)||t.call(e,d.current)}function g(){u.setState("value",d.current,!0)}if(Q.useEffect(()=>{let t=r.current;if(t&&!e.disabled)return t.addEventListener(dr,p),()=>t.removeEventListener(dr,p)},[f,e.onSelect,e.disabled]),!f)return null;let{disabled:x,value:v,onSelect:y,forceMount:w,keywords:b,...N}=e;return Q.createElement(h.div,{ref:W(r,t),...N,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||o.getDisablePointerSelection()?void 0:g,onClick:x?void 0:p},e.children)}),wr=Q.forwardRef((e,t)=>{let{heading:a,children:n,forceMount:s,...r}=e,i=V(),o=Q.useRef(null),l=Q.useRef(null),c=V(),d=pr(),u=Dr(e=>!(!s&&!1!==d.filter())||(!e.search||e.filtered.groups.has(i)));Ar(()=>d.group(i),[]),Lr(i,o,[e.value,e.heading,l]);let m=Q.useMemo(()=>({id:i,forceMount:s}),[s]);return Q.createElement(h.div,{ref:W(o,t),...r,"cmdk-group":"",role:"presentation",hidden:!u||void 0},a&&Q.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},a),Mr(e,e=>Q.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?c:void 0},Q.createElement(xr.Provider,{value:m},e))))}),br=Q.forwardRef((e,t)=>{let{alwaysRender:a,...n}=e,s=Q.useRef(null),r=Dr(e=>!e.search);return a||r?Q.createElement(h.div,{ref:W(s,t),...n,"cmdk-separator":"",role:"separator"}):null}),Nr=Q.forwardRef((e,t)=>{let{onValueChange:a,...n}=e,s=null!=e.value,r=gr(),i=Dr(e=>e.search),o=Dr(e=>e.selectedItemId),l=pr();return Q.useEffect(()=>{null!=e.value&&r.setState("search",e.value)},[e.value]),Q.createElement(h.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:s?e.value:i,onChange:e=>{s||r.setState("search",e.target.value),null==a||a(e.target.value)}})}),jr=Q.forwardRef((e,t)=>{let{children:a,label:n="Suggestions",...s}=e,r=Q.useRef(null),i=Q.useRef(null),o=Dr(e=>e.selectedItemId),l=pr();return Q.useEffect(()=>{if(i.current&&r.current){let e,t=i.current,a=r.current,n=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;a.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return n.observe(t),()=>{cancelAnimationFrame(e),n.unobserve(t)}}},[]),Q.createElement(h.div,{ref:W(r,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:l.listId},Mr(e,e=>Q.createElement("div",{ref:W(i,l.listInnerRef),"cmdk-list-sizer":""},e)))}),Sr=Q.forwardRef((e,t)=>{let{open:a,onOpenChange:n,overlayClassName:s,contentClassName:r,container:i,...o}=e;return Q.createElement(P,{open:a,onOpenChange:n},Q.createElement(A,{container:i},Q.createElement(S,{"cmdk-overlay":"",className:s}),Q.createElement(E,{"aria-label":e.label,"cmdk-dialog":"",className:r},Q.createElement(vr,{ref:t,...o}))))}),Er=Q.forwardRef((e,t)=>Dr(e=>0===e.filtered.count)?Q.createElement(h.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Cr=Q.forwardRef((e,t)=>{let{progress:a,children:n,label:s="Loading...",...r}=e;return Q.createElement(h.div,{ref:t,...r,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Mr(e,e=>Q.createElement("div",{"aria-hidden":!0},e)))}),kr=Object.assign(vr,{List:jr,Item:yr,Input:Nr,Group:wr,Separator:br,Dialog:Sr,Empty:Er,Loading:Cr});function Rr(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return a;a=a.nextElementSibling}}function Tr(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return a;a=a.previousElementSibling}}function Pr(e){let t=Q.useRef(e);return Ar(()=>{t.current=e}),t}var Ar="undefined"==typeof window?Q.useEffect:Q.useLayoutEffect;function Ir(e){let t=Q.useRef();return void 0===t.current&&(t.current=e()),t}function Dr(e){let t=gr(),a=()=>e(t.snapshot());return Q.useSyncExternalStore(t.subscribe,a,a)}function Lr(e,t,a,n=[]){let s=Q.useRef(),r=pr();return Ar(()=>{var i;let o=(()=>{var e;for(let t of a){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():s.current}})(),l=n.map(e=>e.trim());r.value(e,o,l),null==(i=t.current)||i.setAttribute(ur,o),s.current=o}),s}var Or=()=>{let[e,t]=Q.useState(),a=Ir(()=>new Map);return Ar(()=>{a.current.forEach(e=>e()),a.current=new Map},[e]),(e,n)=>{a.current.set(e,n),t({})}};function Mr({asChild:e,children:t},a){return e&&Q.isValidElement(t)?Q.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},a(t.props.children)):a(t)}var $r={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _r=Q.forwardRef(({className:e,...t},a)=>n.jsx(kr,{ref:a,className:ct("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));_r.displayName=kr.displayName;const Br=Q.forwardRef(({className:e,...t},a)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(ge,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(kr.Input,{ref:a,className:ct("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Br.displayName=kr.Input.displayName;const zr=Q.forwardRef(({className:e,...t},a)=>n.jsx(kr.List,{ref:a,className:ct("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));zr.displayName=kr.List.displayName;const Fr=Q.forwardRef((e,t)=>n.jsx(kr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Fr.displayName=kr.Empty.displayName;const Ur=Q.forwardRef(({className:e,...t},a)=>n.jsx(kr.Group,{ref:a,className:ct("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Ur.displayName=kr.Group.displayName;Q.forwardRef(({className:e,...t},a)=>n.jsx(kr.Separator,{ref:a,className:ct("-mx-1 h-px bg-border",e),...t})).displayName=kr.Separator.displayName;const Hr=Q.forwardRef(({className:e,...t},a)=>n.jsx(kr.Item,{ref:a,className:ct("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Hr.displayName=kr.Item.displayName;const qr=Z,Yr=J,Vr=Q.forwardRef(({className:e,align:t="center",sideOffset:a=4,...s},r)=>n.jsx(K,{children:n.jsx(G,{ref:r,align:t,sideOffset:a,className:ct("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));function Wr({onComplete:e}){const[t,a]=Q.useState(1),[s,r]=Q.useState({phone:"",email:"",city:"",locality:"",fullAddress:""}),[i,o]=Q.useState({}),[l,c]=Q.useState(!1),[d,u]=Q.useState(!1),[m,f]=Q.useState(!1),[p,h]=Q.useState(!1),[g,x]=Q.useState(bs),[v,y]=Q.useState([]),{setUserProfile:w}=rs();Q.useEffect(()=>{if(s.city){const e=bs.find(e=>e.name===s.city);e&&(y(e.localities),s.locality&&!e.localities.includes(s.locality)&&r(e=>({...e,locality:""})))}},[s.city]);const b=async()=>{c(!0);try{if(!(await Ns.saveUserData(s)))throw new Error("Failed to save data");{const t=Ns.convertToUserProfile(s);w(t),localStorage.setItem("userProfile",JSON.stringify(t)),localStorage.setItem("onboardingCompleted","true"),lt({title:"🎉 Welcome to AI Disaster Management!",description:"Your emergency profile has been created successfully."}),u(!0),setTimeout(()=>{e(s)},2e3)}}catch(t){lt({title:"Error",description:"Failed to save your information. Please try again.",variant:"destructive"})}finally{c(!1)}},N=[{number:1,title:"Phone Number",icon:ce},{number:2,title:"Email Address",icon:_e},{number:3,title:"Location Details",icon:pe}];return d?n.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-emergency/5"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-accent/20 via-transparent to-transparent"}),n.jsx(Je.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-full max-w-md relative z-10 text-center",children:n.jsx(Ba,{className:"glass border-white/20 shadow-2xl backdrop-blur-md",children:n.jsxs(Ua,{className:"p-8",children:[n.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-accent rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-accent/25",children:n.jsx(be,{className:"w-10 h-10 text-accent-foreground"})}),n.jsx(Je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-foreground mb-4",children:"🎉 Setup Complete!"}),n.jsx(Je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-muted-foreground text-lg mb-6",children:"Your emergency profile has been created successfully. You're now ready to use AI Disaster Management Platform!"}),n.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse"}),"Redirecting to home page..."]})]})})})]}):n.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emergency/5 via-transparent to-accent/5"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-emergency/10 via-transparent to-transparent"}),n.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"flex items-center space-x-4",children:N.map((e,a)=>{const s=e.icon,r=t===e.number,i=t>e.number;return n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:ct("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 border-2",i&&"bg-accent border-accent text-accent-foreground shadow-lg shadow-accent/25",r&&!i&&"bg-primary border-primary text-primary-foreground shadow-lg shadow-primary/25",!r&&!i&&"bg-muted border-muted-foreground/20 text-muted-foreground"),children:i?n.jsx(be,{className:"w-6 h-6"}):n.jsx(s,{className:"w-6 h-6"})}),a<N.length-1&&n.jsx("div",{className:ct("w-12 h-1 mx-3 rounded-full transition-all duration-300",i?"bg-accent":"bg-muted")})]},e.number)})})}),n.jsxs(Ba,{className:"glass border-white/20 shadow-2xl backdrop-blur-md",children:[n.jsxs(za,{className:"text-center pb-6",children:[n.jsxs(Fa,{className:"text-3xl font-bold text-foreground mb-2",children:[1===t&&"🚨 Welcome to AI Disaster Management",2===t&&"📧 Contact Information",3===t&&"📍 Location Details"]}),n.jsxs("p",{className:"text-muted-foreground text-lg",children:[1===t&&"Your phone number helps us reach you during emergencies",2===t&&"We'll use this to send you important alerts and updates",3===t&&"Help us locate you quickly in case of disasters"]})]}),n.jsxs(Ua,{className:"space-y-6",children:[n.jsxs(Xe,{mode:"wait",children:[1===t&&n.jsx(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx(ks,{htmlFor:"phone",className:"text-foreground font-medium text-lg",children:"📱 Phone Number"}),n.jsx(ys,{id:"phone",type:"tel",placeholder:"+91 98765 43210",value:s.phone,onChange:e=>r(t=>({...t,phone:e.target.value})),className:ct("glass border-white/20 h-12 text-lg",i.phone&&"border-emergency ring-emergency/20")}),i.phone&&n.jsxs("p",{className:"text-sm text-emergency flex items-center gap-1",children:[n.jsx(ue,{className:"w-4 h-4"}),i.phone]})]})},"step1"),2===t&&n.jsx(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx(ks,{htmlFor:"email",className:"text-foreground font-medium text-lg",children:"📧 Email Address"}),n.jsx(ys,{id:"email",type:"email",placeholder:"your.email@example.com",value:s.email,onChange:e=>r(t=>({...t,email:e.target.value})),className:ct("glass border-white/20 h-12 text-lg",i.email&&"border-emergency ring-emergency/20")}),i.email&&n.jsxs("p",{className:"text-sm text-emergency flex items-center gap-1",children:[n.jsx(ue,{className:"w-4 h-4"}),i.email]})]})},"step2"),3===t&&n.jsxs(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ks,{className:"text-foreground font-medium text-lg",children:"🏙️ City"}),n.jsxs(qr,{open:m,onOpenChange:f,children:[n.jsx(Yr,{asChild:!0,children:n.jsxs(Ma,{variant:"outline",role:"combobox","aria-expanded":m,className:ct("w-full justify-between h-12 text-lg glass border-white/20",!s.city&&"text-muted-foreground",i.city&&"border-emergency ring-emergency/20"),children:[s.city||"Select city...",n.jsx(Me,{className:"ml-2 h-5 w-5 shrink-0 opacity-50"})]})}),n.jsx(Vr,{className:"w-full p-0",children:n.jsxs(_r,{children:[n.jsx(Br,{placeholder:"Search cities...",onValueChange:e=>{x(e?bs.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):bs)}}),n.jsxs(zr,{children:[n.jsx(Fr,{children:"No city found."}),n.jsx(Ur,{children:g.map(e=>n.jsxs(Hr,{value:e.name,onSelect:()=>{r(t=>({...t,city:e.name})),f(!1)},children:[n.jsx(be,{className:ct("mr-2 h-4 w-4",s.city===e.name?"opacity-100":"opacity-0")}),e.name]},e.name))})]})]})})]}),i.city&&n.jsxs("p",{className:"text-sm text-emergency flex items-center gap-1",children:[n.jsx(ue,{className:"w-4 h-4"}),i.city]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ks,{className:"text-foreground font-medium text-lg",children:"🏘️ Locality"}),n.jsxs(qr,{open:p,onOpenChange:h,children:[n.jsx(Yr,{asChild:!0,children:n.jsxs(Ma,{variant:"outline",role:"combobox","aria-expanded":p,className:ct("w-full justify-between h-12 text-lg glass border-white/20",!s.locality&&"text-muted-foreground",i.locality&&"border-emergency ring-emergency/20"),disabled:!s.city,children:[s.locality||"Select locality...",n.jsx(Me,{className:"ml-2 h-5 w-5 shrink-0 opacity-50"})]})}),n.jsx(Vr,{className:"w-full p-0",children:n.jsxs(_r,{children:[n.jsx(Br,{placeholder:"Search localities...",onValueChange:e=>{var t,a;if(e){const t=(null==(a=bs.find(e=>e.name===s.city))?void 0:a.localities)||[];y(t.filter(t=>t.toLowerCase().includes(e.toLowerCase())))}else y((null==(t=bs.find(e=>e.name===s.city))?void 0:t.localities)||[])}}),n.jsxs(zr,{children:[n.jsx(Fr,{children:"No locality found."}),n.jsx(Ur,{children:v.map(e=>n.jsxs(Hr,{value:e,onSelect:()=>{r(t=>({...t,locality:e})),h(!1)},children:[n.jsx(be,{className:ct("mr-2 h-4 w-4",s.locality===e?"opacity-100":"opacity-0")}),e]},e))})]})]})})]}),i.locality&&n.jsxs("p",{className:"text-sm text-emergency flex items-center gap-1",children:[n.jsx(ue,{className:"w-4 h-4"}),i.locality]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ks,{htmlFor:"fullAddress",className:"text-foreground font-medium text-lg",children:"🏠 Full Address"}),n.jsx(ys,{id:"fullAddress",placeholder:"House number, street name, etc.",value:s.fullAddress,onChange:e=>r(t=>({...t,fullAddress:e.target.value})),className:ct("glass border-white/20 h-12 text-lg",i.fullAddress&&"border-emergency ring-emergency/20")}),i.fullAddress&&n.jsxs("p",{className:"text-sm text-emergency flex items-center gap-1",children:[n.jsx(ue,{className:"w-4 h-4"}),i.fullAddress]})]})]},"step3")]}),n.jsxs("div",{className:"flex justify-between pt-6 gap-4",children:[n.jsxs(Ma,{variant:"outline",onClick:()=>{t>1&&a(t-1)},disabled:1===t,className:"flex items-center gap-2 h-12 px-6 glass border-white/20 text-foreground hover:bg-white/5",children:[n.jsx($e,{className:"w-5 h-5"}),"Previous"]}),n.jsx(Ma,{onClick:()=>{(e=>{const t={};return 1===e&&(s.phone.trim()?/^\+?[0-9\s\-()]{7,20}$/.test(s.phone)||(t.phone="Please enter a valid phone number"):t.phone="Phone number is required"),2===e&&(s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(t.email="Please enter a valid email address"):t.email="Email is required"),3===e&&(s.city||(t.city="Please select a city"),s.locality||(t.locality="Please select a locality"),s.fullAddress.trim()||(t.fullAddress="Full address is required")),o(t),0===Object.keys(t).length})(t)&&(t<3?a(t+1):b())},disabled:l,className:"flex items-center gap-2 h-12 px-8 bg-primary hover:bg-primary/90 text-primary-foreground font-medium text-lg shadow-lg shadow-primary/25",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 animate-spin border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):3===t?n.jsxs(n.Fragment,{children:["Complete Setup",n.jsx(be,{className:"w-5 h-5"})]}):n.jsxs(n.Fragment,{children:["Continue",n.jsx(Me,{className:"w-5 h-5"})]})})]})]})]})]})]})}Vr.displayName=G.displayName;const Kr=()=>{const e=Ye();return Q.useEffect(()=>{},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:n.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:n.jsxs(Ba,{className:"glass border-white/20 p-8",children:[n.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:300},className:"mb-6",children:n.jsx(pe,{className:"w-16 h-16 text-emergency mx-auto mb-4"})}),n.jsx("h1",{className:"text-6xl font-bold text-emergency mb-4",children:"404"}),n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Location Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-8",children:"This route doesn't exist in our emergency response system. Let's get you back to safety."}),n.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:n.jsxs(Ma,{onClick:()=>window.location.href="/",className:"bg-safe hover:bg-safe/90 text-safe-foreground",size:"lg",children:[n.jsx(oe,{className:"w-5 h-5 mr-2"}),"Return to Safety"]})})]})})})};function Gr(){const[e,t]=Q.useState(null),[a,s]=Q.useState(!1),[r,i]=Q.useState(!1),[o,l]=Q.useState(!1),[c,d]=Q.useState(!1);Q.useEffect(()=>{(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,t=window.navigator.standalone;d(e||t),i(e||t)})(),(()=>{const e=/iPad|iPhone|iPod/.test(navigator.userAgent);l(e)})();const e=e=>{e.preventDefault(),t(e),setTimeout(()=>{r||c||s(!0)},3e3)},a=()=>{i(!0),s(!1),t(null)};window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",a);const n=localStorage.getItem("pwa-install-dismissed");if(!n||r||c)n||r||c||s(!0);else{const e=parseInt(n);Date.now()-e>864e5&&s(!0)}return()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",a)}},[r,c]);return r||c?null:n.jsx(Xe,{children:a&&n.jsx(Je.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:n.jsx(Ba,{className:"glass border-white/20 backdrop-blur-md shadow-2xl",children:n.jsx(Ua,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:o?n.jsx(Be,{className:"w-6 h-6 text-blue-500"}):n.jsx(ze,{className:"w-6 h-6 text-green-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Install Disaster AI"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:o?"Add to your home screen for quick access to emergency features":"Install this app for faster access and offline emergency features"}),n.jsxs("div",{className:"flex gap-2",children:[o?n.jsxs(Ma,{onClick:()=>{s(!1),window.open("/pwa-install-guide.html","_blank")},size:"sm",className:"flex-1",children:[n.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Show Instructions"]}):n.jsxs(Ma,{onClick:async()=>{if(e)try{await e.prompt();const{outcome:a}=await e.userChoice;t(null),s(!1)}catch(a){}},size:"sm",className:"flex-1",children:[n.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Install App"]}),n.jsx(Ma,{onClick:()=>{s(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())},variant:"outline",size:"sm",className:"px-3",children:n.jsx(ie,{className:"w-4 h-4"})})]})]})]})})})})})}function Zr(){const[e,t]=Q.useState({isOnline:navigator.onLine,isInstalled:!1,isStandalone:!1,canInstall:!1,updateAvailable:!1});Q.useEffect(()=>{const e=()=>t(e=>({...e,isOnline:!0})),a=()=>t(e=>({...e,isOnline:!1})),n=e=>{e.preventDefault(),t(e=>({...e,canInstall:!0}))},s=()=>{t(e=>({...e,isInstalled:!0,isStandalone:!0,canInstall:!1}))};return(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,a=window.navigator.standalone,n=e||a;t(e=>({...e,isInstalled:n,isStandalone:n}))})(),(async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js");e.addEventListener("updatefound",()=>{const a=e.installing;a&&a.addEventListener("statechange",()=>{"installed"===a.state&&navigator.serviceWorker.controller&&t(e=>({...e,updateAvailable:!0}))})})}catch(e){}})(),window.addEventListener("online",e),window.addEventListener("offline",a),window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a),window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",s)}},[]);return{...e,updateApp:async()=>{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration();e&&e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}},requestNotificationPermission:async()=>{if("Notification"in window){return"granted"===await Notification.requestPermission()}return!1}}}function Jr(){const{isOnline:e}=Zr();return n.jsx(Xe,{children:!e&&n.jsx(Je.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-red-500 text-white py-2 px-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Ue,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"You're offline. Some features may be limited."})]})})})}function Xr(){const{updateAvailable:e,updateApp:t}=Zr();return e?n.jsx(Xe,{children:n.jsx(Je.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:n.jsx(Ba,{className:"glass border-blue-500/30 backdrop-blur-md shadow-2xl",children:n.jsx(Ua,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Fe,{className:"w-6 h-6 text-blue-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Update Available"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"A new version of AI Disaster Management Platform is available with improved features and security updates."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ma,{onClick:t,size:"sm",className:"flex-1",children:[n.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Update Now"]}),n.jsx(Ma,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",className:"px-3",children:n.jsx(ie,{className:"w-4 h-4"})})]})]})]})})})})}):null}const Qr=new He,ei=()=>{const[e,t]=Q.useState(null),{setUserProfile:a,setDangerActive:s,addDangerZone:r,clearDangerZones:i}=rs();Q.useEffect(()=>{const e=localStorage.getItem("onboardingCompleted"),n=localStorage.getItem("userProfile");if("true"===e&&n)try{const e=JSON.parse(n);a(e),t(!0),e.phone&&Gs.startMonitoring(e.phone)}catch(s){t(!1)}else t(!1);return()=>{Gs.stopMonitoring()}},[a]),Q.useEffect(()=>rs.subscribe(e=>e.alertStatus,e=>{if("red"===(null==e?void 0:e.alertStatus)){s(!0);const e=rs.getState().userProfile;(null==e?void 0:e.phone)&&r({center:[40.7589,-73.9851],radius:1e3,intensity:.8,color:"#ef4444",timestamp:(new Date).toISOString()})}else s(!1),i()}),[s,r,i]),Q.useEffect(()=>{},[e]);const o=e=>{const n=localStorage.getItem("onboardingCompleted"),s=localStorage.getItem("userProfile");if("true"===n&&s)try{const e=JSON.parse(s);a(e),t(!0),e.phone&&Gs.startMonitoring(e.phone)}catch(r){t(!1)}else t(!1)};return null===e?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 animate-spin border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?n.jsx(qe,{client:Qr,children:n.jsxs(ua,{children:[n.jsx(xt,{}),n.jsx(zt,{}),n.jsx(Aa,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",toastClassName:"glass border-white/20"}),n.jsxs(Ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[n.jsxs(Ge,{children:[n.jsx(Ze,{path:"/",element:n.jsx(vs,{})}),n.jsx(Ze,{path:"/safe",element:n.jsx(ws,{})}),n.jsx(Ze,{path:"/sos",element:n.jsx(js,{})}),n.jsx(Ze,{path:"/contacts",element:n.jsx(qs,{})}),n.jsx(Ze,{path:"/ai",element:n.jsx(Ys,{})}),n.jsx(Ze,{path:"/notifications",element:n.jsx(Ws,{})}),n.jsx(Ze,{path:"/settings",element:n.jsx(Js,{})}),n.jsx(Ze,{path:"/onboarding",element:n.jsx(Wr,{onComplete:o})}),n.jsx(Ze,{path:"*",element:n.jsx(Kr,{})})]}),n.jsx(Jr,{}),n.jsx(Xr,{}),n.jsx(Gr,{})]})]})}):n.jsx(qe,{client:Qr,children:n.jsxs(ua,{children:[n.jsx(xt,{}),n.jsx(zt,{}),n.jsx(Aa,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark",toastClassName:"glass border-white/20"}),n.jsx(Wr,{onComplete:o})]})})};e(document.getElementById("root")).render(n.jsx(ei,{}));
